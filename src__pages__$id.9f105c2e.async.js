"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[239],{11756:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(82188),a=n(71744),s=n(31758),i=n(91004),c=(n(2607),n(15009)),d=n.n(c),u=n(97857),o=n.n(u),l=n(99289),h=n.n(l),x=n(5574),p=n.n(x),v=n(67294),f=n(79895),m=function(e){var t=e.split(".")[0].split("_"),n=p()(t,2),r=n[0],a=n[1];return{idx:Number(r),title:a}},j=function(e){var t=(0,v.useState)(null),n=p()(t,2),r=n[0],a=n[1];return(0,v.useEffect)((function(){h()(d()().mark((function t(){var n,r,s,i,c,u,l,x,p,v;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=f.Z.find((function(t){return t.itemId===e})))){t.next=16;break}return r=n.itemId,s=n.title,t.next=5,fetch("".concat("https://arseed.web3infura.io/bundle/tx","/").concat(r,"/data"));case 5:return i=t.sent,t.next=8,i.json();case 8:return c=t.sent,u=c.paths,l=void 0===u?{}:u,x=Object.keys(l).map((function(e){var t=l[e].id,n=m(e);return o()(o()({},n),{},{url:"https://arseed.web3infra.dev/".concat(t)})})).sort((function(e,t){return e.idx-t.idx})),p=x.map(function(){var e=h()(d()().mark((function e(t){var n,r,a,s,i;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.idx,a=t.title,e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.text();case 6:return i=e.sent,e.abrupt("return",{text:i,idx:r,title:a});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=14,Promise.all(p);case 14:v=t.sent,a({itemId:r,title:s,mds:v});case 16:case"end":return t.stop()}}),t)})))()}),[e]),r},g=n(85893),N=function(e){var t,n=e.id,r=null!==(t=j(n))&&void 0!==t?t:{},i=r.title,c=r.mds,d=void 0===c?[]:c;return d.length?(0,g.jsxs)(a.Z,{className:"flip-book",width:800,height:800,maxShadowOpacity:.5,showCover:!0,children:[(0,g.jsx)("div",{className:"page page-cover page-cover-top","data-density":"hard",children:(0,g.jsx)("div",{className:"page-content",children:(0,g.jsx)("h2",{children:i})})}),d.map((function(e){var t=e.text,n=e.idx,r=e.title;return(0,g.jsx)("div",{className:"page",children:(0,g.jsxs)("div",{className:"page-content",children:[(0,g.jsxs)("h2",{className:"page-header",children:[r," - ",n]}),(0,g.jsx)("div",{className:"page-text",children:(0,g.jsx)(s.D,{children:t},n)}),(0,g.jsx)("div",{className:"page-footer"})]})},n)})),(0,g.jsx)("div",{className:"page page-cover page-cover-bottom","data-density":"hard",children:(0,g.jsx)("div",{className:"page-content",children:(0,g.jsx)("h2",{children:"THE END"})})})]}):(0,g.jsx)("div",{children:"图书加载中..."})},b=function(){var e=(0,r.UO)().id,t=void 0===e?"":e;return(0,g.jsxs)("div",{className:"home-box",children:[(0,g.jsx)(i.Z,{}),(0,g.jsx)("div",{style:{paddingTop:60},children:(0,g.jsx)(N,{id:t})})]})}}}]);