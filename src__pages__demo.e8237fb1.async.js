(self.webpackChunk=self.webpackChunk||[]).push([[680],{60225:function(e,n,t){"use strict";t.r(n);var r=t(97857),o=t.n(r),s=t(15009),c=t.n(s),u=t(99289),i=t.n(u),a=t(5574),l=t.n(a),f=t(67294),d=t(88484),h=t(46747),v=t(57661),p=t(11889),w=t(33236),m=t(85893);n.default=function(){var e=(0,f.useState)(""),n=l()(e,2),t=n[0],r=n[1],s="https://arseed.web3infra.dev",u=(0,f.useRef)(),a=(0,f.useState)([]),g=l()(a,2),x=g[0],k=(g[1],(0,f.useState)("")),b=l()(k,2),j=b[0],y=b[1];(0,f.useEffect)((function(){i()(c()().mark((function e(){var n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("window.ethereum",window.ethereum),e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=e.sent,r(n[0]),e.next=7,(0,w.genAPI)(window.ethereum);case 7:u.current=e.sent;case 8:case"end":return e.stop()}}),e)})))()}),[]);var C={name:"file",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?h.ZP.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&h.ZP.error("".concat(e.file.name," file upload failed."))},customRequest:function(e){e.action,e.data;var n=e.file,t=(e.filename,e.headers,e.onError,e.onProgress,e.onSuccess,e.withCredentials,new FileReader);return t.readAsArrayBuffer(n),console.log(n),t.onload=function(){var e=i()(c()().mark((function e(t){var r,o,i,a,l,f,d,h;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=null===(r=t.target)||void 0===r?void 0:r.result,"usdc",l={tags:[{name:"Content-Type",value:null!==(o=n.type)&&void 0!==o?o:"unkonwn"},{name:"fileName",value:null!==(i=n.name)&&void 0!==i?i:""}]},e.prev=4,e.next=7,null===(f=u.current)||void 0===f?void 0:f.sendAndPay(s,a,"usdc",l);case 7:d=e.sent,console.log("res",d),d&&y(null==d||null===(h=d.order)||void 0===h?void 0:h.itemId),console.log("Complete File read successfully!",t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}(),{abort:function(){console.log("upload progress is aborted.")}}}},Z=function(){var e=i()(c()().mark((function e(){var n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,w.getOrders)(s,t);case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsx)(v.Z,o()(o()({},C),{},{children:(0,m.jsx)(p.Z,{icon:(0,m.jsx)(d.Z,{}),children:"Click to Upload"})})),(0,m.jsxs)("div",{children:[(0,m.jsx)(p.Z,{onClick:Z,children:"获取 address 所有的 order"}),(0,m.jsx)("div",{children:x}),(0,m.jsxs)("div",{children:["地址:",""!==j?(0,m.jsx)("a",{href:"https://arseed.web3infra.dev/".concat(j),target:"_blank",children:"https://arseed.web3infra.dev/".concat(j)}):null]})]})]})}},88677:function(){},62808:function(){},7420:function(){},95856:function(){},11922:function(){},46601:function(){},71456:function(){},89214:function(){},71922:function(){},2363:function(){},73105:function(){},52361:function(){},94616:function(){},69862:function(){},40964:function(){},55024:function(){}}]);