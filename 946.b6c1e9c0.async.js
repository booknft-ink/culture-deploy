(self.webpackChunk=self.webpackChunk||[]).push([[946],{94470:function(yt){"use strict";var z=Object.prototype.hasOwnProperty,U=Object.prototype.toString,X=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,V=function(N){return typeof Array.isArray=="function"?Array.isArray(N):U.call(N)==="[object Array]"},j=function(N){if(!N||U.call(N)!=="[object Object]")return!1;var M=z.call(N,"constructor"),_=N.constructor&&N.constructor.prototype&&z.call(N.constructor.prototype,"isPrototypeOf");if(N.constructor&&!M&&!_)return!1;var lt;for(lt in N);return typeof lt>"u"||z.call(N,lt)},v=function(N,M){X&&M.name==="__proto__"?X(N,M.name,{enumerable:!0,configurable:!0,value:M.newValue,writable:!0}):N[M.name]=M.newValue},H=function(N,M){if(M==="__proto__")if(z.call(N,M)){if(Q)return Q(N,M).value}else return;return N[M]};yt.exports=function ut(){var N,M,_,lt,xt,Tt,Z=arguments[0],K=1,F=arguments.length,C=!1;for(typeof Z=="boolean"&&(C=Z,Z=arguments[1]||{},K=2),(Z==null||typeof Z!="object"&&typeof Z!="function")&&(Z={});K<F;++K)if(N=arguments[K],N!=null)for(M in N)_=H(Z,M),lt=H(N,M),Z!==lt&&(C&&lt&&(j(lt)||(xt=V(lt)))?(xt?(xt=!1,Tt=_&&V(_)?_:[]):Tt=_&&j(_)?_:{},v(Z,{name:M,newValue:ut(C,Tt,lt)})):typeof lt<"u"&&v(Z,{name:M,newValue:lt}));return Z}},18139:function(yt){var z=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,U=/\n/g,X=/^\s*/,Q=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,V=/^:\s*/,j=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,v=/^[;\s]*/,H=/^\s+|\s+$/g,ut=`
`,N="/",M="*",_="",lt="comment",xt="declaration";yt.exports=function(Z,K){if(typeof Z!="string")throw new TypeError("First argument must be a string");if(!Z)return[];K=K||{};var F=1,C=1;function l(nt){var J=nt.match(U);J&&(F+=J.length);var Mt=nt.lastIndexOf(ut);C=~Mt?nt.length-Mt:C+nt.length}function a(){var nt={line:F,column:C};return function(J){return J.position=new g(nt),B(),J}}function g(nt){this.start=nt,this.end={line:F,column:C},this.source=K.source}g.prototype.content=Z;var w=[];function k(nt){var J=new Error(K.source+":"+F+":"+C+": "+nt);if(J.reason=nt,J.filename=K.source,J.line=F,J.column=C,J.source=Z,K.silent)w.push(J);else throw J}function I(nt){var J=nt.exec(Z);if(!!J){var Mt=J[0];return l(Mt),Z=Z.slice(Mt.length),J}}function B(){I(X)}function W(nt){var J;for(nt=nt||[];J=ct();)J!==!1&&nt.push(J);return nt}function ct(){var nt=a();if(!(N!=Z.charAt(0)||M!=Z.charAt(1))){for(var J=2;_!=Z.charAt(J)&&(M!=Z.charAt(J)||N!=Z.charAt(J+1));)++J;if(J+=2,_===Z.charAt(J-1))return k("End of comment missing");var Mt=Z.slice(2,J-2);return C+=2,l(Mt),Z=Z.slice(J),C+=2,nt({type:lt,comment:Mt})}}function wt(){var nt=a(),J=I(Q);if(!!J){if(ct(),!I(V))return k("property missing ':'");var Mt=I(j),ke=nt({type:xt,property:Tt(J[0].replace(z,_)),value:Mt?Tt(Mt[0].replace(z,_)):_});return I(v),ke}}function Lt(){var nt=[];W(nt);for(var J;J=wt();)J!==!1&&(nt.push(J),W(nt));return nt}return B(),Lt()};function Tt(Z){return Z?Z.replace(H,_):_}},48738:function(yt){yt.exports=function(U){return U!=null&&U.constructor!=null&&typeof U.constructor.isBuffer=="function"&&U.constructor.isBuffer(U)}},70729:function(yt){"use strict";var z={};function U(Q){var V,j,v=z[Q];if(v)return v;for(v=z[Q]=[],V=0;V<128;V++)j=String.fromCharCode(V),/^[0-9a-z]$/i.test(j)?v.push(j):v.push("%"+("0"+V.toString(16).toUpperCase()).slice(-2));for(V=0;V<Q.length;V++)v[Q.charCodeAt(V)]=Q[V];return v}function X(Q,V,j){var v,H,ut,N,M,_="";for(typeof V!="string"&&(j=V,V=X.defaultChars),typeof j>"u"&&(j=!0),M=U(V),v=0,H=Q.length;v<H;v++){if(ut=Q.charCodeAt(v),j&&ut===37&&v+2<H&&/^[0-9a-f]{2}$/i.test(Q.slice(v+1,v+3))){_+=Q.slice(v,v+3),v+=2;continue}if(ut<128){_+=M[ut];continue}if(ut>=55296&&ut<=57343){if(ut>=55296&&ut<=56319&&v+1<H&&(N=Q.charCodeAt(v+1),N>=56320&&N<=57343)){_+=encodeURIComponent(Q[v]+Q[v+1]),v++;continue}_+="%EF%BF%BD";continue}_+=encodeURIComponent(Q[v])}return _}X.defaultChars=";/?:@&=+$,-_.!~*'()#",X.componentChars="-_.!~*'()",yt.exports=X},42717:function(yt,z){(function(U,X){X(z)})(this,function(U){"use strict";class X{constructor(l,a){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=a,this.nowDrawingDensity=this.createdDensity,this.render=l}setDensity(l){this.createdDensity=l,this.nowDrawingDensity=l}setDrawingDensity(l){this.nowDrawingDensity=l}setPosition(l){this.state.position=l}setAngle(l){this.state.angle=l}setArea(l){this.state.area=l}setHardDrawingAngle(l){this.state.hardDrawingAngle=l}setHardAngle(l){this.state.hardAngle=l,this.state.hardDrawingAngle=l}setOrientation(l){this.orientation=l}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class Q extends X{constructor(l,a,g){super(l,g),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=a}draw(l){const a=this.render.getContext(),g=this.render.convertToGlobal(this.state.position),w=this.render.getRect().pageWidth,k=this.render.getRect().height;a.save(),a.translate(g.x,g.y),a.beginPath();for(let I of this.state.area)I!==null&&(I=this.render.convertToGlobal(I),a.lineTo(I.x-g.x,I.y-g.y));a.rotate(this.state.angle),a.clip(),this.isLoad?a.drawImage(this.image,0,0,w,k):this.drawLoader(a,{x:0,y:0},w,k),a.restore()}simpleDraw(l){const a=this.render.getRect(),g=this.render.getContext(),w=a.pageWidth,k=a.height,I=l===1?a.left+a.pageWidth:a.left,B=a.top;this.isLoad?g.drawImage(this.image,I,B,w,k):this.drawLoader(g,{x:I,y:B},w,k)}drawLoader(l,a,g,w){l.beginPath(),l.strokeStyle="rgb(200, 200, 200)",l.fillStyle="rgb(255, 255, 255)",l.lineWidth=1,l.rect(a.x+1,a.y+1,g-1,w-1),l.stroke(),l.fill();const k={x:a.x+g/2,y:a.y+w/2};l.beginPath(),l.lineWidth=10,l.arc(k.x,k.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),l.stroke(),l.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class V{constructor(l,a){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=a,this.app=l,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let a=0;a<this.pages.length;a++)this.portraitSpread.push([a]);let l=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([l]),l++);for(let a=l;a<this.pages.length;a+=2)a<this.pages.length-1?this.landscapeSpread.push([a,a+1]):(this.landscapeSpread.push([a]),this.pages[a].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(l){const a=this.getSpread();for(let g=0;g<a.length;g++)if(l===a[g][0]||l===a[g][1])return g;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(l){if(l>=0&&l<this.pages.length)return this.pages[l];throw new Error("Invalid page number")}nextBy(l){const a=this.pages.indexOf(l);return a<this.pages.length-1?this.pages[a+1]:null}prevBy(l){const a=this.pages.indexOf(l);return a>0?this.pages[a-1]:null}getFlippingPage(l){const a=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return l===0?this.pages[a].newTemporaryCopy():this.pages[a-1];{const g=l===0?this.getSpread()[a+1]:this.getSpread()[a-1];return g.length===1||l===0?this.pages[g[0]]:this.pages[g[1]]}}getBottomPage(l){const a=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return l===0?this.pages[a+1]:this.pages[a-1];{const g=l===0?this.getSpread()[a+1]:this.getSpread()[a-1];return g.length===1?this.pages[g[0]]:l===0?this.pages[g[1]]:this.pages[g[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(l=null){if(l===null&&(l=this.currentPageIndex),l<0||l>=this.pages.length)return;const a=this.getSpreadIndexByPage(l);a!==null&&(this.currentSpreadIndex=a,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(l){if(!(l>=0&&l<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=l}showSpread(){const l=this.getSpread()[this.currentSpreadIndex];l.length===2?(this.render.setLeftPage(this.pages[l[0]]),this.render.setRightPage(this.pages[l[1]])):this.render.getOrientation()==="landscape"&&l[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[l[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[l[0]])),this.currentPageIndex=l[0],this.app.updatePageIndex(this.currentPageIndex)}}class j extends V{constructor(l,a,g){super(l,a),this.imagesHref=g}load(){for(const l of this.imagesHref){const a=new Q(this.render,l,"soft");a.load(),this.pages.push(a)}this.createSpread()}}class v{static GetDistanceBetweenTwoPoint(l,a){return l===null||a===null?1/0:Math.sqrt(Math.pow(a.x-l.x,2)+Math.pow(a.y-l.y,2))}static GetSegmentLength(l){return v.GetDistanceBetweenTwoPoint(l[0],l[1])}static GetAngleBetweenTwoLine(l,a){const g=l[0].y-l[1].y,w=a[0].y-a[1].y,k=l[1].x-l[0].x,I=a[1].x-a[0].x;return Math.acos((g*w+k*I)/(Math.sqrt(g*g+k*k)*Math.sqrt(w*w+I*I)))}static PointInRect(l,a){return a===null?null:a.x>=l.left&&a.x<=l.width+l.left&&a.y>=l.top&&a.y<=l.top+l.height?a:null}static GetRotatedPoint(l,a,g){return{x:l.x*Math.cos(g)+l.y*Math.sin(g)+a.x,y:l.y*Math.cos(g)-l.x*Math.sin(g)+a.y}}static LimitPointToCircle(l,a,g){if(v.GetDistanceBetweenTwoPoint(l,g)<=a)return g;const w=l.x,k=l.y,I=g.x,B=g.y;let W=Math.sqrt(Math.pow(a,2)*Math.pow(w-I,2)/(Math.pow(w-I,2)+Math.pow(k-B,2)))+w;g.x<0&&(W*=-1);let ct=(W-w)*(k-B)/(w-I)+k;return w-I+k===0&&(ct=a),{x:W,y:ct}}static GetIntersectBetweenTwoSegment(l,a,g){return v.PointInRect(l,v.GetIntersectBeetwenTwoLine(a,g))}static GetIntersectBeetwenTwoLine(l,a){const g=l[0].y-l[1].y,w=a[0].y-a[1].y,k=l[1].x-l[0].x,I=a[1].x-a[0].x,B=l[0].x*l[1].y-l[1].x*l[0].y,W=a[0].x*a[1].y-a[1].x*a[0].y,ct=g*W-w*B,wt=k*W-I*B,Lt=-(B*I-W*k)/(g*I-w*k),nt=-(g*W-w*B)/(g*I-w*k);if(isFinite(Lt)&&isFinite(nt))return{x:Lt,y:nt};if(Math.abs(ct-wt)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(l,a){const g=Math.abs(l.x-a.x),w=Math.abs(l.y-a.y),k=Math.max(g,w),I=[l];function B(W,ct,wt,Lt,nt){return ct>W?W+nt*(wt/Lt):ct<W?W-nt*(wt/Lt):W}for(let W=1;W<=k;W+=1)I.push({x:B(l.x,a.x,g,k,W),y:B(l.y,a.y,w,k,W)});return I}}class H extends X{constructor(l,a,g){super(l,g),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=a,this.element.classList.add("stf__item"),this.element.classList.add("--"+g)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new H(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(l){const a=l||this.nowDrawingDensity,g=this.render.convertToGlobal(this.state.position),w=this.render.getRect().pageWidth,k=this.render.getRect().height;this.element.classList.remove("--simple");const I=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${w}px;
            height: ${k}px;
        `;a==="hard"?this.drawHard(I):this.drawSoft(g,I)}drawHard(l=""){const a=this.render.getRect().left+this.render.getRect().width/2,g=this.state.hardDrawingAngle,w=l+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${g}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${a}px, 0, 0) rotateY(${g}deg);`);this.element.style.cssText=w}drawSoft(l,a=""){let g="polygon( ";for(const k of this.state.area)if(k!==null){let I=this.render.getDirection()===1?{x:-k.x+this.state.position.x,y:k.y-this.state.position.y}:{x:k.x-this.state.position.x,y:k.y-this.state.position.y};I=v.GetRotatedPoint(I,{x:0,y:0},this.state.angle),g+=I.x+"px "+I.y+"px, "}g=g.slice(0,-2),g+=")";const w=a+`transform-origin: 0 0; clip-path: ${g}; -webkit-clip-path: ${g};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${l.x}px, ${l.y}px);`:`transform: translate3d(${l.x}px, ${l.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=w}simpleDraw(l){const a=this.render.getRect(),g=a.pageWidth,w=a.height,k=l===1?a.left+a.pageWidth:a.left,I=a.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${w}px; 
            left: ${k}px; 
            top: ${I}px; 
            width: ${g}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(l){super.setOrientation(l),this.element.classList.remove("--left","--right"),this.element.classList.add(l===1?"--right":"--left")}setDrawingDensity(l){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+l),super.setDrawingDensity(l)}}class ut extends V{constructor(l,a,g,w){super(l,a),this.element=g,this.pagesElement=w}load(){for(const l of this.pagesElement){const a=new H(this.render,l,l.dataset.density==="hard"?"hard":"soft");a.load(),this.pages.push(a)}this.createSpread()}}class N{constructor(l,a,g,w){this.direction=l,this.corner=a,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(g,10),this.pageHeight=parseInt(w,10)}calc(l){try{return this.position=this.calcAngleAndPosition(l),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const l=[];let a=!1;return l.push(this.rect.topLeft),l.push(this.topIntersectPoint),this.sideIntersectPoint===null?a=!0:(l.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(a=!1)),l.push(this.bottomIntersectPoint),(a||this.corner==="bottom")&&l.push(this.rect.bottomLeft),l}getBottomClipArea(){const l=[];return l.push(this.topIntersectPoint),this.corner==="top"?l.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&l.push({x:this.pageWidth,y:0}),l.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?v.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&l.push(this.sideIntersectPoint):this.corner==="top"&&l.push({x:this.pageWidth,y:this.pageHeight}),l.push(this.bottomIntersectPoint),l.push(this.topIntersectPoint),l}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const l=v.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?l:Math.PI-l}calcAngleAndPosition(l){let a=l;if(this.updateAngleAndGeometry(a),a=this.corner==="top"?this.checkPositionAtCenterLine(a,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(a,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(a.x-this.pageWidth)<1&&Math.abs(a.y)<1)throw new Error("Point is too small");return a}updateAngleAndGeometry(l){this.angle=this.calculateAngle(l),this.rect=this.getPageRect(l)}calculateAngle(l){const a=this.pageWidth-l.x+1,g=this.corner==="bottom"?this.pageHeight-l.y:l.y;let w=2*Math.acos(a/Math.sqrt(g*g+a*a));g<0&&(w=-w);const k=Math.PI-w;if(!isFinite(w)||k>=0&&k<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(w=-w),w}getPageRect(l){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],l):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],l)}getRectFromBasePoint(l,a){return{topLeft:this.getRotatedPoint(l[0],a),topRight:this.getRotatedPoint(l[1],a),bottomLeft:this.getRotatedPoint(l[2],a),bottomRight:this.getRotatedPoint(l[3],a)}}getRotatedPoint(l,a){return{x:l.x*Math.cos(this.angle)+l.y*Math.sin(this.angle)+a.x,y:l.y*Math.cos(this.angle)-l.x*Math.sin(this.angle)+a.y}}calculateIntersectPoint(l){const a={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[l,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[l,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[l,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=v.GetIntersectBetweenTwoSegment(a,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(l,a,g){let w=l;const k=v.LimitPointToCircle(a,this.pageWidth,w);w!==k&&(w=k,this.updateAngleAndGeometry(w));const I=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let B=this.rect.bottomRight,W=this.rect.topLeft;if(this.corner==="bottom"&&(B=this.rect.topRight,W=this.rect.bottomLeft),B.x<=0){const ct=v.LimitPointToCircle(g,I,W);ct!==w&&(w=ct,this.updateAngleAndGeometry(w))}return w}getSegmentToShadowLine(){const l=this.getShadowStartPoint();return[l,l!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class M{constructor(l,a){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=l,this.app=a}fold(l){this.setState("user_fold"),this.calc===null&&this.start(l),this.do(this.render.convertToPage(l))}flip(l){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(l)||(this.calc!==null&&this.render.finishAnimation(),!this.start(l)))return;const a=this.getBoundsRect();this.setState("flipping");const g=a.height/10,w=this.calc.getCorner()==="bottom"?a.height-g:g,k=this.calc.getCorner()==="bottom"?a.height:0;this.calc.calc({x:a.pageWidth-g,y:w}),this.animateFlippingTo({x:a.pageWidth-g,y:w},{x:-a.pageWidth,y:k},!0)}start(l){this.reset();const a=this.render.convertToBook(l),g=this.getBoundsRect(),w=this.getDirectionByPoint(a),k=a.y>=g.height/2?"bottom":"top";if(!this.checkDirection(w))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(w),this.bottomPage=this.app.getPageCollection().getBottomPage(w),this.render.getOrientation()==="landscape")if(w===1){const I=this.app.getPageCollection().nextBy(this.flippingPage);I!==null&&this.flippingPage.getDensity()!==I.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),I.setDrawingDensity("hard"))}else{const I=this.app.getPageCollection().prevBy(this.flippingPage);I!==null&&this.flippingPage.getDensity()!==I.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),I.setDrawingDensity("hard"))}return this.render.setDirection(w),this.calc=new N(w,k,g.pageWidth.toString(10),g.height.toString(10)),!0}catch{return!1}}do(l){if(this.calc!==null&&this.calc.calc(l)){const a=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*a)/100):this.flippingPage.setHardAngle(-90*(200-2*a)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),a,this.calc.getDirection())}}flipToPage(l,a){const g=this.app.getPageCollection().getCurrentSpreadIndex(),w=this.app.getPageCollection().getSpreadIndexByPage(l);try{w>g&&(this.app.getPageCollection().setCurrentSpreadIndex(w-1),this.flipNext(a)),w<g&&(this.app.getPageCollection().setCurrentSpreadIndex(w+1),this.flipPrev(a))}catch{}}flipNext(l){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:l==="top"?1:this.render.getRect().height-2})}flipPrev(l){this.flip({x:10,y:l==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const l=this.calc.getPosition(),a=this.getBoundsRect(),g=this.calc.getCorner()==="bottom"?a.height:0;l.x<=0?this.animateFlippingTo(l,{x:-a.pageWidth,y:g},!0):this.animateFlippingTo(l,{x:a.pageWidth,y:g},!1)}showCorner(l){if(!this.checkState("read","fold_corner"))return;const a=this.getBoundsRect(),g=a.pageWidth;if(this.isPointOnCorners(l))if(this.calc===null){if(!this.start(l))return;this.setState("fold_corner"),this.calc.calc({x:g-1,y:1});const w=50,k=this.calc.getCorner()==="bottom"?a.height-1:1,I=this.calc.getCorner()==="bottom"?a.height-w:w;this.animateFlippingTo({x:g-1,y:k},{x:g-w,y:I},!1,!1)}else this.do(this.render.convertToPage(l));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(l,a,g,w=!0){const k=v.GetCordsFromTwoPoint(l,a),I=[];for(const W of k)I.push(()=>this.do(W));const B=this.getAnimationDuration(k.length);this.render.startAnimation(I,B,()=>{this.calc&&(g&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),w&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(l){this.state!==l&&(this.app.updateState(l),this.state=l)}getDirectionByPoint(l){const a=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(l.x-a.pageWidth<=a.width/5)return 1}else if(l.x<a.width/2)return 1;return 0}getAnimationDuration(l){const a=this.app.getSettings().flippingTime;return l>=1e3?a:l/1e3*a}checkDirection(l){return l===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...l){for(const a of l)if(this.state===a)return!0;return!1}isPointOnCorners(l){const a=this.getBoundsRect(),g=a.pageWidth,w=Math.sqrt(Math.pow(g,2)+Math.pow(a.height,2))/5,k=this.render.convertToBook(l);return k.x>0&&k.y>0&&k.x<a.width&&k.y<a.height&&(k.x<w||k.x>a.width-w)&&(k.y<w||k.y>a.height-w)}}class _{constructor(l,a){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=a,this.app=l;const g=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=g.exec(window.navigator.userAgent)!==null}render(l){if(this.animation!==null){const a=Math.round((l-this.animation.startedAt)/this.animation.durationFrame);a<this.animation.frames.length?this.animation.frames[a]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=l,this.drawFrame()}start(){this.update();const l=a=>{this.render(a),requestAnimationFrame(l)};requestAnimationFrame(l)}startAnimation(l,a,g){this.finishAnimation(),this.animation={frames:l,duration:a,durationFrame:a/l.length,onAnimateEnd:g,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const l=this.calculateBoundsRect();this.orientation!==l&&(this.orientation=l,this.app.updateOrientation(l))}calculateBoundsRect(){let l="landscape";const a=this.getBlockWidth(),g=a/2,w=this.getBlockHeight()/2,k=this.setting.width/this.setting.height;let I=this.setting.width,B=this.setting.height,W=g-I;return this.setting.size==="stretch"?(a<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(l="portrait"),I=l==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,I>this.setting.maxWidth&&(I=this.setting.maxWidth),B=I/k,B>this.getBlockHeight()&&(B=this.getBlockHeight(),I=B*k),W=l==="portrait"?g-I/2-I:g-I):a<2*I&&this.app.getSettings().usePortrait&&(l="portrait",W=g-I/2-I),this.boundsRect={left:W,top:w-B/2,width:2*I,height:B,pageWidth:I},l}setShadowData(l,a,g,w){if(!this.app.getSettings().drawShadow)return;const k=100*this.getSettings().maxShadowOpacity;this.shadow={pos:l,angle:a,width:3*this.getRect().pageWidth/4*g/100,opacity:(100-g)*k/100/100,direction:w,progress:2*g}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(l){this.pageRect=l}setDirection(l){this.direction=l}setRightPage(l){l!==null&&l.setOrientation(1),this.rightPage=l}setLeftPage(l){l!==null&&l.setOrientation(0),this.leftPage=l}setBottomPage(l){l!==null&&l.setOrientation(this.direction===1?0:1),this.bottomPage=l}setFlippingPage(l){l!==null&&l.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=l}convertToBook(l){const a=this.getRect();return{x:l.x-a.left,y:l.y-a.top}}isSafari(){return this.safari}convertToPage(l,a){a||(a=this.direction);const g=this.getRect();return{x:a===0?l.x-g.left-g.width/2:g.width/2-l.x+g.left,y:l.y-g.top}}convertToGlobal(l,a){if(a||(a=this.direction),l==null)return null;const g=this.getRect();return{x:a===0?l.x+g.left+g.width/2:g.width/2-l.x+g.left,y:l.y+g.top}}convertRectToGlobal(l,a){return a||(a=this.direction),{topLeft:this.convertToGlobal(l.topLeft,a),topRight:this.convertToGlobal(l.topRight,a),bottomLeft:this.convertToGlobal(l.bottomLeft,a),bottomRight:this.convertToGlobal(l.bottomRight,a)}}}class lt extends _{constructor(l,a,g){super(l,a),this.canvas=g,this.ctx=g.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const l=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(l.left+l.pageWidth,l.top,l.width,l.height),this.ctx.clip())}drawBookShadow(){const l=this.getRect();this.ctx.save(),this.ctx.beginPath();const a=l.width/20;this.ctx.rect(l.left,l.top,l.width,l.height);const g={x:l.left+l.width/2-a/2,y:0};this.ctx.translate(g.x,g.y);const w=this.ctx.createLinearGradient(0,0,a,0);w.addColorStop(0,"rgba(0, 0, 0, 0)"),w.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),w.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),w.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),w.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),w.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=w,this.ctx.fillRect(0,0,a,2*l.height),this.ctx.restore()}drawOuterShadow(){const l=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(l.left,l.top,l.width,l.height);const a=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(a.x,a.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const g=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),g.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),g.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),g.addColorStop(0,"rgba(0, 0, 0, 0)"),g.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=g,this.ctx.fillRect(0,0,this.shadow.width,2*l.height),this.ctx.restore()}drawInnerShadow(){const l=this.getRect();this.ctx.save(),this.ctx.beginPath();const a=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),g=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(g.topLeft.x,g.topLeft.y),this.ctx.lineTo(g.topRight.x,g.topRight.y),this.ctx.lineTo(g.bottomRight.x,g.bottomRight.y),this.ctx.lineTo(g.bottomLeft.x,g.bottomLeft.y),this.ctx.translate(a.x,a.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const w=3*this.shadow.width/4,k=this.ctx.createLinearGradient(0,0,w,0);this.shadow.direction===0?(this.ctx.translate(-w,-100),k.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),k.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),k.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),k.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),k.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=k,this.ctx.fillRect(0,0,w,2*l.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class xt{constructor(l,a,g){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=k=>{if(this.checkTarget(k.target)){const I=this.getMousePos(k.clientX,k.clientY);this.app.startUserTouch(I),k.preventDefault()}},this.onTouchStart=k=>{if(this.checkTarget(k.target)&&k.changedTouches.length>0){const I=k.changedTouches[0],B=this.getMousePos(I.clientX,I.clientY);this.touchPoint={point:B,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(B)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||k.preventDefault()}},this.onMouseUp=k=>{const I=this.getMousePos(k.clientX,k.clientY);this.app.userStop(I)},this.onMouseMove=k=>{const I=this.getMousePos(k.clientX,k.clientY);this.app.userMove(I,!1)},this.onTouchMove=k=>{if(k.changedTouches.length>0){const I=k.changedTouches[0],B=this.getMousePos(I.clientX,I.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-B.x)>10||this.app.getState()!=="read")&&k.cancelable&&this.app.userMove(B,!0),this.app.getState()!=="read"&&k.preventDefault()):this.app.userMove(B,!0)}},this.onTouchEnd=k=>{if(k.changedTouches.length>0){const I=k.changedTouches[0],B=this.getMousePos(I.clientX,I.clientY);let W=!1;if(this.touchPoint!==null){const ct=B.x-this.touchPoint.point.x,wt=Math.abs(B.y-this.touchPoint.point.y);Math.abs(ct)>this.swipeDistance&&wt<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(ct>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),W=!0),this.touchPoint=null}this.app.userStop(B,W)}},this.parentElement=l,l.classList.add("stf__parent"),l.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=l.querySelector(".stf__wrapper"),this.app=a;const w=this.app.getSettings().usePortrait?1:2;l.style.minWidth=g.minWidth*w+"px",l.style.minHeight=g.minHeight+"px",g.size==="fixed"&&(l.style.minWidth=g.width*w+"px",l.style.minHeight=g.height+"px"),g.autoSize&&(l.style.width="100%",l.style.maxWidth=2*g.maxWidth+"px"),l.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=g.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(l){this.wrapper.classList.remove("--portrait","--landscape"),l==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(l,a){const g=this.distElement.getBoundingClientRect();return{x:l-g.left,y:a-g.top}}checkTarget(l){return!this.app.getSettings().clickEventForward||!["a","button"].includes(l.tagName.toLowerCase())}}class Tt extends xt{constructor(l,a,g,w){super(l,a,g),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=l.querySelector(".stf__block"),this.items=w;for(const k of w)this.distElement.appendChild(k);this.setHandlers()}clear(){for(const l of this.items)this.parentElement.appendChild(l)}updateItems(l){this.removeHandlers(),this.distElement.innerHTML="";for(const a of l)this.distElement.appendChild(a);this.items=l,this.setHandlers()}update(){this.app.getRender().update()}}class Z extends xt{constructor(l,a,g){super(l,a,g),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=l.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const l=getComputedStyle(this.canvas),a=parseInt(l.getPropertyValue("width"),10),g=parseInt(l.getPropertyValue("height"),10);this.canvas.width=a,this.canvas.height=g}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class K extends _{constructor(l,a,g){super(l,a),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=g,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const l=this.getRect(),a=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let g=(100-a)*(2.5*l.pageWidth)/100+20;g>l.pageWidth&&(g=l.pageWidth);let w=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${g}px;
            height: ${l.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*a/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${l.left+l.width/2}px;
            transform-origin: 0 0;
        `;w+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=w}drawHardOuterShadow(){const l=this.getRect();let a=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*l.pageWidth)/100+20;a>l.pageWidth&&(a=l.pageWidth);let g=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${a}px;
            height: ${l.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${l.left+l.width/2}px;
            transform-origin: 0 0;
        `;g+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=g}drawInnerShadow(){const l=this.getRect(),a=3*this.shadow.width/4,g=this.getDirection()===0?a:0,w=this.getDirection()===0?"to left":"to right",k=this.convertToGlobal(this.shadow.pos),I=this.shadow.angle+3*Math.PI/2,B=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let W="polygon( ";for(const wt of B){let Lt=this.getDirection()===1?{x:-wt.x+this.shadow.pos.x,y:wt.y-this.shadow.pos.y}:{x:wt.x-this.shadow.pos.x,y:wt.y-this.shadow.pos.y};Lt=v.GetRotatedPoint(Lt,{x:g,y:100},I),W+=Lt.x+"px "+Lt.y+"px, "}W=W.slice(0,-2),W+=")";const ct=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${a}px;
            height: ${2*l.height}px;
            background: linear-gradient(${w},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${g}px 100px;
            transform: translate3d(${k.x-g}px, ${k.y-100}px, 0) rotate(${I}rad);
            clip-path: ${W};
            -webkit-clip-path: ${W};
        `;this.innerShadow.style.cssText=ct}drawOuterShadow(){const l=this.getRect(),a=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),g=this.shadow.angle+3*Math.PI/2,w=this.getDirection()===1?this.shadow.width:0,k=this.getDirection()===0?"to right":"to left",I=[{x:0,y:0},{x:l.pageWidth,y:0},{x:l.pageWidth,y:l.height},{x:0,y:l.height}];let B="polygon( ";for(const ct of I)if(ct!==null){let wt=this.getDirection()===1?{x:-ct.x+this.shadow.pos.x,y:ct.y-this.shadow.pos.y}:{x:ct.x-this.shadow.pos.x,y:ct.y-this.shadow.pos.y};wt=v.GetRotatedPoint(wt,{x:w,y:100},g),B+=wt.x+"px "+wt.y+"px, "}B=B.slice(0,-2),B+=")";const W=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*l.height}px;
            background: linear-gradient(${k}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${w}px 100px;
            transform: translate3d(${a.x-w}px, ${a.y-100}px, 0) rotate(${g}rad);
            clip-path: ${B};
            -webkit-clip-path: ${B};
        `;this.outerShadow.style.cssText=W}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const l=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(l))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const l of this.app.getPageCollection().getPages())l!==this.leftPage&&l!==this.rightPage&&l!==this.flippingPage&&l!==this.bottomPage&&(l.getElement().style.cssText="display: none"),l.getTemporaryCopy()!==this.flippingPage&&l.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class F{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(l){const a=this._default;if(Object.assign(a,l),a.size!=="stretch"&&a.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(a.width<=0||a.height<=0)throw new Error("Invalid width or height");if(a.flippingTime<=0)throw new Error("Invalid flipping time");return a.size==="stretch"?(a.minWidth<=0&&(a.minWidth=100),a.maxWidth<a.minWidth&&(a.maxWidth=2e3),a.minHeight<=0&&(a.minHeight=100),a.maxHeight<a.minHeight&&(a.maxHeight=2e3)):(a.minWidth=a.width,a.maxWidth=a.width,a.minHeight=a.height,a.maxHeight=a.height),a}}(function(C,l){l===void 0&&(l={});var a=l.insertAt;if(C&&typeof document<"u"){var g=document.head||document.getElementsByTagName("head")[0],w=document.createElement("style");w.type="text/css",a==="top"&&g.firstChild?g.insertBefore(w,g.firstChild):g.appendChild(w),w.styleSheet?w.styleSheet.cssText=C:w.appendChild(document.createTextNode(C))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),U.PageFlip=class extends class{constructor(){this.events=new Map}on(C,l){return this.events.has(C)?this.events.get(C).push(l):this.events.set(C,[l]),this}off(C){this.events.delete(C)}trigger(C,l,a=null){if(this.events.has(C))for(const g of this.events.get(C))g({data:a,object:l})}}{constructor(C,l){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new F().getSettings(l),this.block=C}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(C){this.ui=new Z(this.block,this,this.setting);const l=this.ui.getCanvas();this.render=new lt(this,this.setting,l),this.flipController=new M(this.render,this),this.pages=new j(this,this.render,C),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(C){this.ui=new Tt(this.block,this,this.setting,C),this.render=new K(this,this.setting,this.ui.getDistElement()),this.flipController=new M(this.render,this),this.pages=new ut(this,this.render,this.ui.getDistElement(),C),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(C){const l=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new j(this,this.render,C),this.pages.load(),this.pages.show(l),this.trigger("update",this,{page:l,mode:this.render.getOrientation()})}updateFromHtml(C){const l=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new ut(this,this.render,this.ui.getDistElement(),C),this.pages.load(),this.ui.updateItems(C),this.render.reload(),this.pages.show(l),this.trigger("update",this,{page:l,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(C){this.pages.show(C)}flipNext(C="top"){this.flipController.flipNext(C)}flipPrev(C="top"){this.flipController.flipPrev(C)}flip(C,l="top"){this.flipController.flipToPage(C,l)}updateState(C){this.trigger("changeState",this,C)}updatePageIndex(C){this.trigger("flip",this,C)}updateOrientation(C){this.ui.setOrientationStyle(C),this.update(),this.trigger("changeOrientation",this,C)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(C){return this.pages.getPage(C)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(C){this.mousePosition=C,this.isUserTouch=!0,this.isUserMove=!1}userMove(C,l){this.isUserTouch||l||!this.setting.showPageCorners?this.isUserTouch&&v.GetDistanceBetweenTwoPoint(this.mousePosition,C)>5&&(this.isUserMove=!0,this.flipController.fold(C)):this.flipController.showCorner(C)}userStop(C,l=!1){this.isUserTouch&&(this.isUserTouch=!1,l||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(C)))}},Object.defineProperty(U,"__esModule",{value:!0})})},92703:function(yt,z,U){"use strict";var X=U(50414);function Q(){}function V(){}V.resetWarningCache=Q,yt.exports=function(){function j(ut,N,M,_,lt,xt){if(xt!==X){var Tt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Tt.name="Invariant Violation",Tt}}j.isRequired=j;function v(){return j}var H={array:j,bigint:j,bool:j,func:j,number:j,object:j,string:j,symbol:j,any:j,arrayOf:v,element:j,elementType:j,instanceOf:v,node:j,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:V,resetWarningCache:Q};return H.PropTypes=H,H}},45697:function(yt,z,U){if(!1)var X,Q;else yt.exports=U(92703)()},50414:function(yt){"use strict";var z="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";yt.exports=z},71471:function(yt,z){"use strict";var U=Symbol.for("react.element"),X=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),H=Symbol.for("react.context"),ut=Symbol.for("react.server_context"),N=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Z;Z=Symbol.for("react.module.reference");function K(F){if(typeof F=="object"&&F!==null){var C=F.$$typeof;switch(C){case U:switch(F=F.type,F){case Q:case j:case V:case M:case _:return F;default:switch(F=F&&F.$$typeof,F){case ut:case H:case N:case xt:case lt:case v:return F;default:return C}}case X:return C}}}z.ContextConsumer=H,z.ContextProvider=v,z.Element=U,z.ForwardRef=N,z.Fragment=Q,z.Lazy=xt,z.Memo=lt,z.Portal=X,z.Profiler=j,z.StrictMode=V,z.Suspense=M,z.SuspenseList=_,z.isAsyncMode=function(){return!1},z.isConcurrentMode=function(){return!1},z.isContextConsumer=function(F){return K(F)===H},z.isContextProvider=function(F){return K(F)===v},z.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===U},z.isForwardRef=function(F){return K(F)===N},z.isFragment=function(F){return K(F)===Q},z.isLazy=function(F){return K(F)===xt},z.isMemo=function(F){return K(F)===lt},z.isPortal=function(F){return K(F)===X},z.isProfiler=function(F){return K(F)===j},z.isStrictMode=function(F){return K(F)===V},z.isSuspense=function(F){return K(F)===M},z.isSuspenseList=function(F){return K(F)===_},z.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===Q||F===j||F===V||F===M||F===_||F===Tt||typeof F=="object"&&F!==null&&(F.$$typeof===xt||F.$$typeof===lt||F.$$typeof===v||F.$$typeof===H||F.$$typeof===N||F.$$typeof===Z||F.getModuleId!==void 0)},z.typeOf=K},82143:function(yt,z,U){"use strict";yt.exports=U(71471)},71744:function(yt,z,U){"use strict";var X=U(67294),Q=U(42717),V=U.n(Q);const j=X.forwardRef((H,ut)=>{const N=(0,X.useRef)(null),M=(0,X.useRef)([]),_=(0,X.useRef)(),[lt,xt]=(0,X.useState)([]);(0,X.useImperativeHandle)(ut,()=>({pageFlip:()=>_.current}));const Tt=(0,X.useCallback)(()=>{_.current&&_.current.clear()},[]),Z=(0,X.useCallback)(()=>{const K=_.current;K&&(K.off("flip"),K.off("changeOrientation"),K.off("changeState"),K.off("init"),K.off("update"))},[]);return(0,X.useEffect)(()=>{if(M.current=[],H.children){const K=X.Children.map(H.children,F=>X.cloneElement(F,{ref:C=>{C&&M.current.push(C)}}));(!H.renderOnlyPageLengthChange||lt.length!==K.length)&&(K.length<lt.length&&Tt(),xt(K))}},[H.children]),(0,X.useEffect)(()=>{const K=()=>{const F=_.current;F&&(H.onFlip&&F.on("flip",C=>H.onFlip(C)),H.onChangeOrientation&&F.on("changeOrientation",C=>H.onChangeOrientation(C)),H.onChangeState&&F.on("changeState",C=>H.onChangeState(C)),H.onInit&&F.on("init",C=>H.onInit(C)),H.onUpdate&&F.on("update",C=>H.onUpdate(C)))};lt.length>0&&M.current.length>0&&(Z(),N.current&&!_.current&&(_.current=new Q.PageFlip(N.current,H)),_.current.getFlipController()?_.current.updateFromHtml(M.current):_.current.loadFromHTML(M.current),K())},[lt]),X.createElement("div",{ref:N,className:H.className,style:H.style},lt)}),v=X.memo(j);z.Z=v},57848:function(yt,z,U){var X=U(18139);function Q(V,j){var v=null;if(!V||typeof V!="string")return v;for(var H,ut=X(V),N=typeof j=="function",M,_,lt=0,xt=ut.length;lt<xt;lt++)H=ut[lt],M=H.property,_=H.value,N?j(M,_,H):_&&(v||(v={}),v[M]=_);return v}yt.exports=Q},31758:function(yt,z,U){"use strict";U.d(z,{D:function(){return qe}});var X={};U.r(X),U.d(X,{attentionMarkers:function(){return Vr},contentInitial:function(){return Nr},disable:function(){return Gr},document:function(){return Hr},flow:function(){return Ur},flowInitial:function(){return Wr},insideSpan:function(){return qr},string:function(){return jr},text:function(){return $r}});var Q={};U.r(Q),U.d(Q,{boolean:function(){return tt},booleanish:function(){return kt},commaOrSpaceSeparated:function(){return Bt},commaSeparated:function(){return te},number:function(){return A},overloadedBoolean:function(){return Mn},spaceSeparated:function(){return ft}});var V=U(67294),j=U(48738);function v(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?ut(t.position):"start"in t||"end"in t?ut(t):"line"in t||"column"in t?H(t):""}function H(t){return N(t&&t.line)+":"+N(t&&t.column)}function ut(t){return H(t&&t.start)+"-"+H(t&&t.end)}function N(t){return t&&typeof t=="number"?t:1}class M extends Error{constructor(e,n,i){const r=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const s=i.indexOf(":");s===-1?r[1]=i:(r[0]=i.slice(0,s),r[1]=i.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=v(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack=typeof e=="object"?e.stack:"",this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.source=r[0],this.ruleId=r[1],this.position=o,this.actual,this.expected,this.file,this.url,this.note}}M.prototype.file="",M.prototype.name="",M.prototype.reason="",M.prototype.message="",M.prototype.stack="",M.prototype.fatal=null,M.prototype.column=null,M.prototype.line=null,M.prototype.source=null,M.prototype.ruleId=null,M.prototype.position=null;const _={basename:lt,dirname:xt,extname:Tt,join:Z,sep:"/"};function lt(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');C(t);let n=0,i=-1,r=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.charCodeAt(r)===47){if(o){n=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let s=-1,u=e.length-1;for(;r--;)if(t.charCodeAt(r)===47){if(o){n=r+1;break}}else s<0&&(o=!0,s=r+1),u>-1&&(t.charCodeAt(r)===e.charCodeAt(u--)?u<0&&(i=r):(u=-1,i=s));return n===i?i=s:i<0&&(i=t.length),t.slice(n,i)}function xt(t){if(C(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.charCodeAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function Tt(t){C(t);let e=t.length,n=-1,i=0,r=-1,o=0,s;for(;e--;){const u=t.charCodeAt(e);if(u===47){if(s){i=e+1;break}continue}n<0&&(s=!0,n=e+1),u===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function Z(...t){let e=-1,n;for(;++e<t.length;)C(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":K(n)}function K(t){C(t);const e=t.charCodeAt(0)===47;let n=F(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function F(t,e){let n="",i=0,r=-1,o=0,s=-1,u,c;for(;++s<=t.length;){if(s<t.length)u=t.charCodeAt(s);else{if(u===47)break;u=47}if(u===47){if(!(r===s-1||o===1))if(r!==s-1&&o===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",i=0):(n=n.slice(0,c),i=n.length-1-n.lastIndexOf("/")),r=s,o=0;continue}}else if(n.length>0){n="",i=0,r=s,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,s):n=t.slice(r+1,s),i=s-r-1;r=s,o=0}else u===46&&o>-1?o++:o=-1}return n}function C(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const l={cwd:a};function a(){return"/"}function g(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function w(t){if(typeof t=="string")t=new URL(t);else if(!g(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return k(t)}function k(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const i=e.charCodeAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const I=["history","path","basename","stem","extname","dirname"];class B{constructor(e){let n;e?typeof e=="string"||j(e)?n={value:e}:g(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=l.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<I.length;){const o=I[i];o in n&&n[o]!==void 0&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)I.includes(r)||(this[r]=n[r])}get path(){return this.history[this.history.length-1]}set path(e){g(e)&&(e=w(e)),ct(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?_.dirname(this.path):void 0}set dirname(e){wt(this.basename,"dirname"),this.path=_.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?_.basename(this.path):void 0}set basename(e){ct(e,"basename"),W(e,"basename"),this.path=_.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?_.extname(this.path):void 0}set extname(e){if(W(e,"extname"),wt(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?_.basename(this.path,this.extname):void 0}set stem(e){ct(e,"stem"),W(e,"stem"),this.path=_.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,n,i){const r=new M(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=null,r}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}}function W(t,e){if(t&&t.includes(_.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+_.sep+"`")}function ct(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function wt(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Lt(t){if(t)throw t}var nt=U(94470);function J(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Mt(){const t=[],e={run:n,use:i};return e;function n(...r){let o=-1;const s=r.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);u(null,...r);function u(c,...d){const f=t[++o];let b=-1;if(c){s(c);return}for(;++b<r.length;)(d[b]===null||d[b]===void 0)&&(d[b]=r[b]);r=d,f?ke(f,u)(...d):s(null,...d)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function ke(t,e){let n;return i;function i(...s){const u=t.length>s.length;let c;u&&s.push(r);try{c=t.apply(this,s)}catch(d){const f=d;if(u&&n)throw f;return r(f)}u||(c instanceof Promise?c.then(o,r):c instanceof Error?r(c):o(c))}function r(s,...u){n||(n=!0,e(s,...u))}function o(s){r(null,s)}}const ti=Ye().freeze(),Ge={}.hasOwnProperty;function Ye(){const t=Mt(),e=[];let n={},i,r=-1;return o.data=s,o.Parser=void 0,o.Compiler=void 0,o.freeze=u,o.attachers=e,o.use=c,o.parse=d,o.stringify=f,o.run=b,o.runSync=m,o.process=y,o.processSync=E,o;function o(){const D=Ye();let O=-1;for(;++O<e.length;)D.use(...e[O]);return D.data(nt(!0,{},n)),D}function s(D,O){return typeof D=="string"?arguments.length===2?(Ee("data",i),n[D]=O,o):Ge.call(n,D)&&n[D]||null:D?(Ee("data",i),n=D,o):n}function u(){if(i)return o;for(;++r<e.length;){const[D,...O]=e[r];if(O[0]===!1)continue;O[0]===!0&&(O[0]=void 0);const P=D.call(o,...O);typeof P=="function"&&t.use(P)}return i=!0,r=Number.POSITIVE_INFINITY,o}function c(D,...O){let P;if(Ee("use",i),D!=null)if(typeof D=="function")it(D,...O);else if(typeof D=="object")Array.isArray(D)?ot(D):R(D);else throw new TypeError("Expected usable value, not `"+D+"`");return P&&(n.settings=Object.assign(n.settings||{},P)),o;function et(S){if(typeof S=="function")it(S);else if(typeof S=="object")if(Array.isArray(S)){const[G,...rt]=S;it(G,...rt)}else R(S);else throw new TypeError("Expected usable value, not `"+S+"`")}function R(S){ot(S.plugins),S.settings&&(P=Object.assign(P||{},S.settings))}function ot(S){let G=-1;if(S!=null)if(Array.isArray(S))for(;++G<S.length;){const rt=S[G];et(rt)}else throw new TypeError("Expected a list of plugins, not `"+S+"`")}function it(S,G){let rt=-1,st;for(;++rt<e.length;)if(e[rt][0]===S){st=e[rt];break}st?(J(st[1])&&J(G)&&(G=nt(!0,st[1],G)),st[1]=G):e.push([...arguments])}}function d(D){o.freeze();const O=le(D),P=o.Parser;return Pe("parse",P),Xe(P,"parse")?new P(String(O),O).parse():P(String(O),O)}function f(D,O){o.freeze();const P=le(O),et=o.Compiler;return Ce("stringify",et),Qe(D),Xe(et,"compile")?new et(D,P).compile():et(D,P)}function b(D,O,P){if(Qe(D),o.freeze(),!P&&typeof O=="function"&&(P=O,O=void 0),!P)return new Promise(et);et(null,P);function et(R,ot){t.run(D,le(O),it);function it(S,G,rt){G=G||D,S?ot(S):R?R(G):P(null,G,rt)}}}function m(D,O){let P,et;return o.run(D,O,R),Ze("runSync","run",et),P;function R(ot,it){Lt(ot),P=it,et=!0}}function y(D,O){if(o.freeze(),Pe("process",o.Parser),Ce("process",o.Compiler),!O)return new Promise(P);P(null,O);function P(et,R){const ot=le(D);o.run(o.parse(ot),ot,(S,G,rt)=>{if(S||!G||!rt)it(S);else{const st=o.stringify(G,rt);st==null||(ii(st)?rt.value=st:rt.result=st),it(S,rt)}});function it(S,G){S||!G?R(S):et?et(G):O(null,G)}}}function E(D){let O;o.freeze(),Pe("processSync",o.Parser),Ce("processSync",o.Compiler);const P=le(D);return o.process(P,et),Ze("processSync","process",O),P;function et(R){O=!0,Lt(R)}}}function Xe(t,e){return typeof t=="function"&&t.prototype&&(ei(t.prototype)||e in t.prototype)}function ei(t){let e;for(e in t)if(Ge.call(t,e))return!0;return!1}function Pe(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function Ce(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Ee(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Qe(t){if(!J(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ze(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function le(t){return ni(t)?t:new B(t)}function ni(t){return Boolean(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function ii(t){return typeof t=="string"||j(t)}function ri(t,e){var{includeImageAlt:n=!0}=e||{};return Ke(t,n)}function Ke(t,e){return t&&typeof t=="object"&&(t.value||(e?t.alt:"")||"children"in t&&Je(t.children,e)||Array.isArray(t)&&Je(t,e))||""}function Je(t,e){for(var n=[],i=-1;++i<t.length;)n[i]=Ke(t[i],e);return n.join("")}function $t(t,e,n,i){const r=t.length;let o=0,s;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)s=Array.from(i),s.unshift(e,n),[].splice.apply(t,s);else for(n&&[].splice.apply(t,[e,n]);o<i.length;)s=i.slice(o,o+1e4),s.unshift(e,0),[].splice.apply(t,s),o+=1e4,e+=1e4}function Ht(t,e){return t.length>0?($t(t,t.length,0,e),t):e}const Ie={}.hasOwnProperty;function oi(t){const e={};let n=-1;for(;++n<t.length;)li(e,t[n]);return e}function li(t,e){let n;for(n in e){const r=(Ie.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;for(s in o){Ie.call(r,s)||(r[s]=[]);const u=o[s];si(r[s],Array.isArray(u)?u:u?[u]:[])}}}function si(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);$t(t,0,0,i)}function Ll(t){const e={};let n=-1;for(;++n<t.length;)ai(e,t[n]);return e}function ai(t,e){let n;for(n in e){const r=(Ie.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o)r[s]=o[s]}}const ui=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,qt=Qt(/[A-Za-z]/),Ae=Qt(/\d/),ci=Qt(/[\dA-Fa-f]/),zt=Qt(/[\dA-Za-z]/),hi=Qt(/[!-/:-@[-`{-~]/),tn=Qt(/[#-'*+\--9=?A-Z^-~]/);function Te(t){return t!==null&&(t<32||t===127)}function Nt(t){return t!==null&&(t<0||t===32)}function $(t){return t!==null&&t<-2}function St(t){return t===-2||t===-1||t===32}const pi=Qt(/\s/),gi=Qt(ui);function Qt(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function gt(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(c){return St(c)?(t.enter(n),u(c)):e(c)}function u(c){return St(c)&&o++<r?(t.consume(c),u):(t.exit(n),e(c))}}const di={tokenize:fi};function fi(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),gt(t,e,"linePrefix")}function r(u){return t.enter("paragraph"),o(u)}function o(u){const c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(u)}function s(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return $(u)?(t.consume(u),t.exit("chunkText"),o):(t.consume(u),s)}}const mi={tokenize:yi},en={tokenize:xi};function yi(t){const e=this,n=[];let i=0,r,o,s;return u;function u(R){if(i<n.length){const ot=n[i];return e.containerState=ot[1],t.attempt(ot[0].continuation,c,d)(R)}return d(R)}function c(R){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&et();const ot=e.events.length;let it=ot,S;for(;it--;)if(e.events[it][0]==="exit"&&e.events[it][1].type==="chunkFlow"){S=e.events[it][1].end;break}P(i);let G=ot;for(;G<e.events.length;)e.events[G][1].end=Object.assign({},S),G++;return $t(e.events,it+1,0,e.events.slice(ot)),e.events.length=G,d(R)}return u(R)}function d(R){if(i===n.length){if(!r)return m(R);if(r.currentConstruct&&r.currentConstruct.concrete)return E(R);e.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(en,f,b)(R)}function f(R){return r&&et(),P(i),m(R)}function b(R){return e.parser.lazy[e.now().line]=i!==n.length,s=e.now().offset,E(R)}function m(R){return e.containerState={},t.attempt(en,y,E)(R)}function y(R){return i++,n.push([e.currentConstruct,e.containerState]),m(R)}function E(R){if(R===null){r&&et(),P(0),t.consume(R);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),D(R)}function D(R){if(R===null){O(t.exit("chunkFlow"),!0),P(0),t.consume(R);return}return $(R)?(t.consume(R),O(t.exit("chunkFlow")),i=0,e.interrupt=void 0,u):(t.consume(R),D)}function O(R,ot){const it=e.sliceStream(R);if(ot&&it.push(null),R.previous=o,o&&(o.next=R),o=R,r.defineSkip(R.start),r.write(it),e.parser.lazy[R.start.line]){let S=r.events.length;for(;S--;)if(r.events[S][1].start.offset<s&&(!r.events[S][1].end||r.events[S][1].end.offset>s))return;const G=e.events.length;let rt=G,st,vt;for(;rt--;)if(e.events[rt][0]==="exit"&&e.events[rt][1].type==="chunkFlow"){if(st){vt=e.events[rt][1].end;break}st=!0}for(P(i),S=G;S<e.events.length;)e.events[S][1].end=Object.assign({},vt),S++;$t(e.events,rt+1,0,e.events.slice(G)),e.events.length=S}}function P(R){let ot=n.length;for(;ot-- >R;){const it=n[ot];e.containerState=it[1],it[0].exit.call(e,t)}n.length=R}function et(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function xi(t,e,n){return gt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const de={tokenize:wi,partial:!0};function wi(t,e,n){return gt(t,i,"linePrefix");function i(r){return r===null||$(r)?e(r):n(r)}}function nn(t){const e={};let n=-1,i,r,o,s,u,c,d;for(;++n<t.length;){for(;n in e;)n=e[n];if(i=t[n],n&&i[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(c=i[1]._tokenizer.events,o=0,o<c.length&&c[o][1].type==="lineEndingBlank"&&(o+=2),o<c.length&&c[o][1].type==="content"))for(;++o<c.length&&c[o][1].type!=="content";)c[o][1].type==="chunkText"&&(c[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,bi(t,n)),n=e[n],d=!0);else if(i[1]._container){for(o=n,r=void 0;o--&&(s=t[o],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(r&&(t[r][1].type="lineEndingBlank"),s[1].type="lineEnding",r=o);r&&(i[1].end=Object.assign({},t[r][1].start),u=t.slice(r,n),u.unshift(i),$t(t,r,n-r+1,u))}}return!d}function bi(t,e){const n=t[e][1],i=t[e][2];let r=e-1;const o=[],s=n._tokenizer||i.parser[n.contentType](n.start),u=s.events,c=[],d={};let f,b,m=-1,y=n,E=0,D=0;const O=[D];for(;y;){for(;t[++r][1]!==y;);o.push(r),y._tokenizer||(f=i.sliceStream(y),y.next||f.push(null),b&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(f),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),b=y,y=y.next}for(y=n;++m<u.length;)u[m][0]==="exit"&&u[m-1][0]==="enter"&&u[m][1].type===u[m-1][1].type&&u[m][1].start.line!==u[m][1].end.line&&(D=m+1,O.push(D),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):O.pop(),m=O.length;m--;){const P=u.slice(O[m],O[m+1]),et=o.pop();c.unshift([et,et+P.length-1]),$t(t,et,2,P)}for(m=-1;++m<c.length;)d[E+c[m][0]]=E+c[m][1],E+=c[m][1]-c[m][0]-1;return d}const Si={tokenize:Ci,resolve:Pi},ki={tokenize:Ei,partial:!0};function Pi(t){return nn(t),t}function Ci(t,e){let n;return i;function i(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(u)}function r(u){return u===null?o(u):$(u)?t.check(ki,s,o)(u):(t.consume(u),r)}function o(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function s(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function Ei(t,e,n){const i=this;return r;function r(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),gt(t,o,"linePrefix")}function o(s){if(s===null||$(s))return n(s);const u=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):t.interrupt(i.parser.constructs.flow,n,e)(s)}}const Ii={tokenize:Ai};function Ai(t){const e=this,n=t.attempt(de,i,t.attempt(this.parser.constructs.flowInitial,r,gt(t,t.attempt(this.parser.constructs.flow,r,t.attempt(Si,r)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Ti={resolveAll:on()},vi=rn("string"),Fi=rn("text");function rn(t){return{tokenize:e,resolveAll:on(t==="text"?Di:void 0)};function e(n){const i=this,r=this.parser.constructs[t],o=n.attempt(r,s,u);return s;function s(f){return d(f)?o(f):u(f)}function u(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),c}function c(f){return d(f)?(n.exit("data"),o(f)):(n.consume(f),c)}function d(f){if(f===null)return!0;const b=r[f];let m=-1;if(b)for(;++m<b.length;){const y=b[m];if(!y.previous||y.previous.call(i,i.previous))return!0}return!1}}}function on(t){return e;function e(n,i){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return t?t(n,i):n}}function Di(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let o=r.length,s=-1,u=0,c;for(;o--;){const d=r[o];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)u++,s--;if(s)break;s=-1}else if(d===-2)c=!0,u++;else if(d!==-1){o++;break}}if(u){const d={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-u,offset:i.end.offset-u,_index:i.start._index+o,_bufferIndex:o?s:i.start._bufferIndex+s},end:Object.assign({},i.end)};i.end=Object.assign({},d.start),i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}function ve(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}function Li(t,e,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},o=[];let s=[],u=[],c=!0;const d={consume:ot,enter:it,exit:S,attempt:st(G),check:st(rt),interrupt:st(rt,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:D,sliceSerialize:E,now:O,defineSkip:P,write:y};let b=e.tokenize.call(f,d),m;return e.resolveAll&&o.push(e),f;function y(L){return s=Ht(s,L),et(),s[s.length-1]!==null?[]:(vt(e,0),f.events=ve(o,f.events,f),f.events)}function E(L,at){return Oi(D(L),at)}function D(L){return Ri(s,L)}function O(){return Object.assign({},i)}function P(L){r[L.line]=L.column,dt()}function et(){let L;for(;i._index<s.length;){const at=s[i._index];if(typeof at=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<at.length;)R(at.charCodeAt(i._bufferIndex));else R(at)}}function R(L){c=void 0,m=L,b=b(L)}function ot(L){$(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,dt()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++)),f.previous=L,c=!0}function it(L,at){const Et=at||{};return Et.type=L,Et.start=O(),f.events.push(["enter",Et,f]),u.push(Et),Et}function S(L){const at=u.pop();return at.end=O(),f.events.push(["exit",at,f]),at}function G(L,at){vt(L,at.from)}function rt(L,at){at.restore()}function st(L,at){return Et;function Et(_t,jt,It){let Rt,Pt,p,h;return Array.isArray(_t)?Kt(_t):"tokenize"in _t?Kt([_t]):ue(_t);function ue(At){return he;function he(Yt){const ie=Yt!==null&&At[Yt],re=Yt!==null&&At.null,Se=[...Array.isArray(ie)?ie:ie?[ie]:[],...Array.isArray(re)?re:re?[re]:[]];return Kt(Se)(Yt)}}function Kt(At){return Rt=At,Pt=0,At.length===0?It:ne(At[Pt])}function ne(At){return he;function he(Yt){return h=ht(),p=At,At.partial||(f.currentConstruct=At),At.name&&f.parser.constructs.disable.null.includes(At.name)?Gt(Yt):At.tokenize.call(at?Object.assign(Object.create(f),at):f,d,ce,Gt)(Yt)}}function ce(At){return c=!0,L(p,h),jt}function Gt(At){return c=!0,h.restore(),++Pt<Rt.length?ne(Rt[Pt]):It}}}function vt(L,at){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&$t(f.events,at,f.events.length-at,L.resolve(f.events.slice(at),f)),L.resolveTo&&(f.events=L.resolveTo(f.events,f))}function ht(){const L=O(),at=f.previous,Et=f.currentConstruct,_t=f.events.length,jt=Array.from(u);return{restore:It,from:_t};function It(){i=L,f.previous=at,f.currentConstruct=Et,f.events.length=_t,u=jt,dt()}}function dt(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function Ri(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let s;return n===r?s=[t[n].slice(i,o)]:(s=t.slice(n,r),i>-1&&(s[0]=s[0].slice(i)),o>0&&s.push(t[r].slice(0,o))),s}function Oi(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&r)continue;s=" ";break}default:s=String.fromCharCode(o)}r=o===-2,i.push(s)}return i.join("")}const fe={name:"thematicBreak",tokenize:_i};function _i(t,e,n){let i=0,r;return o;function o(c){return t.enter("thematicBreak"),r=c,s(c)}function s(c){return c===r?(t.enter("thematicBreakSequence"),u(c)):St(c)?gt(t,s,"whitespace")(c):i<3||c!==null&&!$(c)?n(c):(t.exit("thematicBreak"),e(c))}function u(c){return c===r?(t.consume(c),i++,u):(t.exit("thematicBreakSequence"),s(c))}}const Ot={name:"list",tokenize:Bi,continuation:{tokenize:Hi},exit:Wi},Mi={tokenize:Ui,partial:!0},zi={tokenize:Ni,partial:!0};function Bi(t,e,n){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,s=0;return u;function u(y){const E=i.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||y===i.containerState.marker:Ae(y)){if(i.containerState.type||(i.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(fe,n,d)(y):d(y);if(!i.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(y)}return n(y)}function c(y){return Ae(y)&&++s<10?(t.consume(y),c):(!i.interrupt||s<2)&&(i.containerState.marker?y===i.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),d(y)):n(y)}function d(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||y,t.check(de,i.interrupt?n:f,t.attempt(Mi,m,b))}function f(y){return i.containerState.initialBlankLine=!0,o++,m(y)}function b(y){return St(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Hi(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(de,r,o);function r(u){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,gt(t,e,"listItemIndent",i.containerState.size+1)(u)}function o(u){return i.containerState.furtherBlankLines||!St(u)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,s(u)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(zi,e,s)(u))}function s(u){return i.containerState._closeFlow=!0,i.interrupt=void 0,gt(t,t.attempt(Ot,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Ni(t,e,n){const i=this;return gt(t,r,"listItemIndent",i.containerState.size+1);function r(o){const s=i.events[i.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===i.containerState.size?e(o):n(o)}}function Wi(t){t.exit(this.containerState.type)}function Ui(t,e,n){const i=this;return gt(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function r(o){const s=i.events[i.events.length-1];return!St(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const ln={name:"blockQuote",tokenize:ji,continuation:{tokenize:$i},exit:qi};function ji(t,e,n){const i=this;return r;function r(s){if(s===62){const u=i.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return St(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function $i(t,e,n){return gt(t,t.attempt(ln,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qi(t){t.exit("blockQuote")}function sn(t,e,n,i,r,o,s,u,c){const d=c||Number.POSITIVE_INFINITY;let f=0;return b;function b(P){return P===60?(t.enter(i),t.enter(r),t.enter(o),t.consume(P),t.exit(o),m):P===null||P===41||Te(P)?n(P):(t.enter(i),t.enter(s),t.enter(u),t.enter("chunkString",{contentType:"string"}),D(P))}function m(P){return P===62?(t.enter(o),t.consume(P),t.exit(o),t.exit(r),t.exit(i),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(P))}function y(P){return P===62?(t.exit("chunkString"),t.exit(u),m(P)):P===null||P===60||$(P)?n(P):(t.consume(P),P===92?E:y)}function E(P){return P===60||P===62||P===92?(t.consume(P),y):y(P)}function D(P){return P===40?++f>d?n(P):(t.consume(P),D):P===41?f--?(t.consume(P),D):(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(i),e(P)):P===null||Nt(P)?f?n(P):(t.exit("chunkString"),t.exit(u),t.exit(s),t.exit(i),e(P)):Te(P)?n(P):(t.consume(P),P===92?O:D)}function O(P){return P===40||P===41||P===92?(t.consume(P),D):D(P)}}function an(t,e,n,i,r,o){const s=this;let u=0,c;return d;function d(y){return t.enter(i),t.enter(r),t.consume(y),t.exit(r),t.enter(o),f}function f(y){return y===null||y===91||y===93&&!c||y===94&&!u&&"_hiddenFootnoteSupport"in s.parser.constructs||u>999?n(y):y===93?(t.exit(o),t.enter(r),t.consume(y),t.exit(r),t.exit(i),e):$(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),b(y))}function b(y){return y===null||y===91||y===93||$(y)||u++>999?(t.exit("chunkString"),f(y)):(t.consume(y),c=c||!St(y),y===92?m:b)}function m(y){return y===91||y===92||y===93?(t.consume(y),u++,b):b(y)}}function un(t,e,n,i,r,o){let s;return u;function u(m){return t.enter(i),t.enter(r),t.consume(m),t.exit(r),s=m===40?41:m,c}function c(m){return m===s?(t.enter(r),t.consume(m),t.exit(r),t.exit(i),e):(t.enter(o),d(m))}function d(m){return m===s?(t.exit(o),c(s)):m===null?n(m):$(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),gt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===s||m===null||$(m)?(t.exit("chunkString"),d(m)):(t.consume(m),m===92?b:f)}function b(m){return m===s||m===92?(t.consume(m),f):f(m)}}function se(t,e){let n;return i;function i(r){return $(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):St(r)?gt(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}function Jt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vi={name:"definition",tokenize:Yi},Gi={tokenize:Xi,partial:!0};function Yi(t,e,n){const i=this;let r;return o;function o(c){return t.enter("definition"),an.call(i,t,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(c)}function s(c){return r=Jt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),c===58?(t.enter("definitionMarker"),t.consume(c),t.exit("definitionMarker"),se(t,sn(t,t.attempt(Gi,gt(t,u,"whitespace"),gt(t,u,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(c)}function u(c){return c===null||$(c)?(t.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),e(c)):n(c)}}function Xi(t,e,n){return i;function i(s){return Nt(s)?se(t,r)(s):n(s)}function r(s){return s===34||s===39||s===40?un(t,gt(t,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function o(s){return s===null||$(s)?e(s):n(s)}}const Fe={name:"codeIndented",tokenize:Zi},Qi={tokenize:Ki,partial:!0};function Zi(t,e,n){const i=this;return r;function r(d){return t.enter("codeIndented"),gt(t,o,"linePrefix",4+1)(d)}function o(d){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?s(d):n(d)}function s(d){return d===null?c(d):$(d)?t.attempt(Qi,s,c)(d):(t.enter("codeFlowValue"),u(d))}function u(d){return d===null||$(d)?(t.exit("codeFlowValue"),s(d)):(t.consume(d),u)}function c(d){return t.exit("codeIndented"),e(d)}}function Ki(t,e,n){const i=this;return r;function r(s){return i.parser.lazy[i.now().line]?n(s):$(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),r):gt(t,o,"linePrefix",4+1)(s)}function o(s){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(s):$(s)?r(s):n(s)}}const Ji={name:"headingAtx",tokenize:er,resolve:tr};function tr(t,e){let n=t.length-2,i=3,r,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},$t(t,i,n-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),t}function er(t,e,n){const i=this;let r=0;return o;function o(f){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),s(f)}function s(f){return f===35&&r++<6?(t.consume(f),s):f===null||Nt(f)?(t.exit("atxHeadingSequence"),i.interrupt?e(f):u(f)):n(f)}function u(f){return f===35?(t.enter("atxHeadingSequence"),c(f)):f===null||$(f)?(t.exit("atxHeading"),e(f)):St(f)?gt(t,u,"whitespace")(f):(t.enter("atxHeadingText"),d(f))}function c(f){return f===35?(t.consume(f),c):(t.exit("atxHeadingSequence"),u(f))}function d(f){return f===null||f===35||Nt(f)?(t.exit("atxHeadingText"),u(f)):(t.consume(f),d)}}const cn={name:"setextUnderline",tokenize:ir,resolveTo:nr};function nr(t,e){let n=t.length,i,r,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",s,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end=Object.assign({},t[o][1].end)):t[i][1]=s,t.push(["exit",s,e]),t}function ir(t,e,n){const i=this;let r=i.events.length,o,s;for(;r--;)if(i.events[r][1].type!=="lineEnding"&&i.events[r][1].type!=="linePrefix"&&i.events[r][1].type!=="content"){s=i.events[r][1].type==="paragraph";break}return u;function u(f){return!i.parser.lazy[i.now().line]&&(i.interrupt||s)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),o=f,c(f)):n(f)}function c(f){return f===o?(t.consume(f),c):(t.exit("setextHeadingLineSequence"),gt(t,d,"lineSuffix")(f))}function d(f){return f===null||$(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const rr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hn=["pre","script","style","textarea"],or={name:"htmlFlow",tokenize:ar,resolveTo:sr,concrete:!0},lr={tokenize:ur,partial:!0};function sr(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function ar(t,e,n){const i=this;let r,o,s,u,c;return d;function d(h){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(h),f}function f(h){return h===33?(t.consume(h),b):h===47?(t.consume(h),E):h===63?(t.consume(h),r=3,i.interrupt?e:Rt):qt(h)?(t.consume(h),s=String.fromCharCode(h),o=!0,D):n(h)}function b(h){return h===45?(t.consume(h),r=2,m):h===91?(t.consume(h),r=5,s="CDATA[",u=0,y):qt(h)?(t.consume(h),r=4,i.interrupt?e:Rt):n(h)}function m(h){return h===45?(t.consume(h),i.interrupt?e:Rt):n(h)}function y(h){return h===s.charCodeAt(u++)?(t.consume(h),u===s.length?i.interrupt?e:ht:y):n(h)}function E(h){return qt(h)?(t.consume(h),s=String.fromCharCode(h),D):n(h)}function D(h){return h===null||h===47||h===62||Nt(h)?h!==47&&o&&hn.includes(s.toLowerCase())?(r=1,i.interrupt?e(h):ht(h)):rr.includes(s.toLowerCase())?(r=6,h===47?(t.consume(h),O):i.interrupt?e(h):ht(h)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(h):o?et(h):P(h)):h===45||zt(h)?(t.consume(h),s+=String.fromCharCode(h),D):n(h)}function O(h){return h===62?(t.consume(h),i.interrupt?e:ht):n(h)}function P(h){return St(h)?(t.consume(h),P):st(h)}function et(h){return h===47?(t.consume(h),st):h===58||h===95||qt(h)?(t.consume(h),R):St(h)?(t.consume(h),et):st(h)}function R(h){return h===45||h===46||h===58||h===95||zt(h)?(t.consume(h),R):ot(h)}function ot(h){return h===61?(t.consume(h),it):St(h)?(t.consume(h),ot):et(h)}function it(h){return h===null||h===60||h===61||h===62||h===96?n(h):h===34||h===39?(t.consume(h),c=h,S):St(h)?(t.consume(h),it):(c=null,G(h))}function S(h){return h===null||$(h)?n(h):h===c?(t.consume(h),rt):(t.consume(h),S)}function G(h){return h===null||h===34||h===39||h===60||h===61||h===62||h===96||Nt(h)?ot(h):(t.consume(h),G)}function rt(h){return h===47||h===62||St(h)?et(h):n(h)}function st(h){return h===62?(t.consume(h),vt):n(h)}function vt(h){return St(h)?(t.consume(h),vt):h===null||$(h)?ht(h):n(h)}function ht(h){return h===45&&r===2?(t.consume(h),Et):h===60&&r===1?(t.consume(h),_t):h===62&&r===4?(t.consume(h),Pt):h===63&&r===3?(t.consume(h),Rt):h===93&&r===5?(t.consume(h),It):$(h)&&(r===6||r===7)?t.check(lr,Pt,dt)(h):h===null||$(h)?dt(h):(t.consume(h),ht)}function dt(h){return t.exit("htmlFlowData"),L(h)}function L(h){return h===null?p(h):$(h)?t.attempt({tokenize:at,partial:!0},L,p)(h):(t.enter("htmlFlowData"),ht(h))}function at(h,ue,Kt){return ne;function ne(Gt){return h.enter("lineEnding"),h.consume(Gt),h.exit("lineEnding"),ce}function ce(Gt){return i.parser.lazy[i.now().line]?Kt(Gt):ue(Gt)}}function Et(h){return h===45?(t.consume(h),Rt):ht(h)}function _t(h){return h===47?(t.consume(h),s="",jt):ht(h)}function jt(h){return h===62&&hn.includes(s.toLowerCase())?(t.consume(h),Pt):qt(h)&&s.length<8?(t.consume(h),s+=String.fromCharCode(h),jt):ht(h)}function It(h){return h===93?(t.consume(h),Rt):ht(h)}function Rt(h){return h===62?(t.consume(h),Pt):h===45&&r===2?(t.consume(h),Rt):ht(h)}function Pt(h){return h===null||$(h)?(t.exit("htmlFlowData"),p(h)):(t.consume(h),Pt)}function p(h){return t.exit("htmlFlow"),e(h)}}function ur(t,e,n){return i;function i(r){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt(de,e,n)}}const pn={name:"codeFenced",tokenize:cr,concrete:!0};function cr(t,e,n){const i=this,r={tokenize:it,partial:!0},o={tokenize:ot,partial:!0},s=this.events[this.events.length-1],u=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let c=0,d;return f;function f(S){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d=S,b(S)}function b(S){return S===d?(t.consume(S),c++,b):(t.exit("codeFencedFenceSequence"),c<3?n(S):gt(t,m,"whitespace")(S))}function m(S){return S===null||$(S)?O(S):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||Nt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gt(t,E,"whitespace")(S)):S===96&&S===d?n(S):(t.consume(S),y)}function E(S){return S===null||$(S)?O(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(S))}function D(S){return S===null||$(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),O(S)):S===96&&S===d?n(S):(t.consume(S),D)}function O(S){return t.exit("codeFencedFence"),i.interrupt?e(S):P(S)}function P(S){return S===null?R(S):$(S)?t.attempt(o,t.attempt(r,R,u?gt(t,P,"linePrefix",u+1):P),R)(S):(t.enter("codeFlowValue"),et(S))}function et(S){return S===null||$(S)?(t.exit("codeFlowValue"),P(S)):(t.consume(S),et)}function R(S){return t.exit("codeFenced"),e(S)}function ot(S,G,rt){const st=this;return vt;function vt(dt){return S.enter("lineEnding"),S.consume(dt),S.exit("lineEnding"),ht}function ht(dt){return st.parser.lazy[st.now().line]?rt(dt):G(dt)}}function it(S,G,rt){let st=0;return gt(S,vt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function vt(L){return S.enter("codeFencedFence"),S.enter("codeFencedFenceSequence"),ht(L)}function ht(L){return L===d?(S.consume(L),st++,ht):st<c?rt(L):(S.exit("codeFencedFenceSequence"),gt(S,dt,"whitespace")(L))}function dt(L){return L===null||$(L)?(S.exit("codeFencedFence"),G(L)):rt(L)}}}const gn=document.createElement("i");function De(t){const e="&"+t+";";gn.innerHTML=e;const n=gn.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const dn={name:"characterReference",tokenize:hr};function hr(t,e,n){const i=this;let r=0,o,s;return u;function u(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),c}function c(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,s=zt,f(b))}function d(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=ci,f):(t.enter("characterReferenceValue"),o=7,s=Ae,f(b))}function f(b){let m;return b===59&&r?(m=t.exit("characterReferenceValue"),s===zt&&!De(i.sliceSerialize(m))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):s(b)&&r++<o?(t.consume(b),f):n(b)}}const fn={name:"characterEscape",tokenize:pr};function pr(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),r}function r(o){return hi(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Le={name:"lineEnding",tokenize:gr};function gr(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),gt(t,e,"linePrefix")}}const Re={name:"labelEnd",tokenize:wr,resolveTo:xr,resolveAll:yr},dr={tokenize:br},fr={tokenize:Sr},mr={tokenize:kr};function yr(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function xr(t,e){let n=t.length,i=0,r,o,s,u;for(;n--;)if(r=t[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(s=n);const c={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},d={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},f={type:"labelText",start:Object.assign({},t[o+i+2][1].end),end:Object.assign({},t[s-2][1].start)};return u=[["enter",c,e],["enter",d,e]],u=Ht(u,t.slice(o+1,o+i+3)),u=Ht(u,[["enter",f,e]]),u=Ht(u,ve(e.parser.constructs.insideSpan.null,t.slice(o+i+4,s-3),e)),u=Ht(u,[["exit",f,e],t[s-2],t[s-1],["exit",d,e]]),u=Ht(u,t.slice(s+1)),u=Ht(u,[["exit",c,e]]),$t(t,o,t.length,u),t}function wr(t,e,n){const i=this;let r=i.events.length,o,s;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return u;function u(f){return o?o._inactive?d(f):(s=i.parser.defined.includes(Jt(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),c):n(f)}function c(f){return f===40?t.attempt(dr,e,s?e:d)(f):f===91?t.attempt(fr,e,s?t.attempt(mr,e,d):d)(f):s?e(f):d(f)}function d(f){return o._balanced=!0,n(f)}}function br(t,e,n){return i;function i(c){return t.enter("resource"),t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),se(t,r)}function r(c){return c===41?u(c):sn(t,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function o(c){return Nt(c)?se(t,s)(c):u(c)}function s(c){return c===34||c===39||c===40?un(t,se(t,u),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):u(c)}function u(c){return c===41?(t.enter("resourceMarker"),t.consume(c),t.exit("resourceMarker"),t.exit("resource"),e):n(c)}}function Sr(t,e,n){const i=this;return r;function r(s){return an.call(i,t,o,n,"reference","referenceMarker","referenceString")(s)}function o(s){return i.parser.defined.includes(Jt(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(s):n(s)}}function kr(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),r}function r(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Pr={name:"labelStartImage",tokenize:Cr,resolveAll:Re.resolveAll};function Cr(t,e,n){const i=this;return r;function r(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),o}function o(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),s):n(u)}function s(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}function mn(t){if(t===null||Nt(t)||pi(t))return 1;if(gi(t))return 2}const Oe={name:"attention",tokenize:Ir,resolveAll:Er};function Er(t,e){let n=-1,i,r,o,s,u,c,d,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b=Object.assign({},t[i][1].end),m=Object.assign({},t[n][1].start);yn(b,-c),yn(m,c),s={type:c>1?"strongSequence":"emphasisSequence",start:b,end:Object.assign({},t[i][1].end)},u={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},o={type:c>1?"strongText":"emphasisText",start:Object.assign({},t[i][1].end),end:Object.assign({},t[n][1].start)},r={type:c>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},u.end)},t[i][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},u.end),d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=Ht(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=Ht(d,[["enter",r,e],["enter",s,e],["exit",s,e],["enter",o,e]]),d=Ht(d,ve(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=Ht(d,[["exit",o,e],["enter",u,e],["exit",u,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,d=Ht(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,$t(t,i-1,n-i+3,d),n=i+d.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Ir(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=mn(i);let o;return s;function s(c){return t.enter("attentionSequence"),o=c,u(c)}function u(c){if(c===o)return t.consume(c),u;const d=t.exit("attentionSequence"),f=mn(c),b=!f||f===2&&r||n.includes(c),m=!r||r===2&&f||n.includes(i);return d._open=Boolean(o===42?b:b&&(r||!m)),d._close=Boolean(o===42?m:m&&(f||!b)),e(c)}}function yn(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Ar={name:"autolink",tokenize:Tr};function Tr(t,e,n){let i=1;return r;function r(E){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(E){return qt(E)?(t.consume(E),s):tn(E)?d(E):n(E)}function s(E){return E===43||E===45||E===46||zt(E)?u(E):d(E)}function u(E){return E===58?(t.consume(E),c):(E===43||E===45||E===46||zt(E))&&i++<32?(t.consume(E),u):d(E)}function c(E){return E===62?(t.exit("autolinkProtocol"),y(E)):E===null||E===32||E===60||Te(E)?n(E):(t.consume(E),c)}function d(E){return E===64?(t.consume(E),i=0,f):tn(E)?(t.consume(E),d):n(E)}function f(E){return zt(E)?b(E):n(E)}function b(E){return E===46?(t.consume(E),i=0,f):E===62?(t.exit("autolinkProtocol").type="autolinkEmail",y(E)):m(E)}function m(E){return(E===45||zt(E))&&i++<63?(t.consume(E),E===45?m:b):n(E)}function y(E){return t.enter("autolinkMarker"),t.consume(E),t.exit("autolinkMarker"),t.exit("autolink"),e}}const vr={name:"htmlText",tokenize:Fr};function Fr(t,e,n){const i=this;let r,o,s,u;return c;function c(p){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(p),d}function d(p){return p===33?(t.consume(p),f):p===47?(t.consume(p),G):p===63?(t.consume(p),it):qt(p)?(t.consume(p),vt):n(p)}function f(p){return p===45?(t.consume(p),b):p===91?(t.consume(p),o="CDATA[",s=0,O):qt(p)?(t.consume(p),ot):n(p)}function b(p){return p===45?(t.consume(p),m):n(p)}function m(p){return p===null||p===62?n(p):p===45?(t.consume(p),y):E(p)}function y(p){return p===null||p===62?n(p):E(p)}function E(p){return p===null?n(p):p===45?(t.consume(p),D):$(p)?(u=E,It(p)):(t.consume(p),E)}function D(p){return p===45?(t.consume(p),Pt):E(p)}function O(p){return p===o.charCodeAt(s++)?(t.consume(p),s===o.length?P:O):n(p)}function P(p){return p===null?n(p):p===93?(t.consume(p),et):$(p)?(u=P,It(p)):(t.consume(p),P)}function et(p){return p===93?(t.consume(p),R):P(p)}function R(p){return p===62?Pt(p):p===93?(t.consume(p),R):P(p)}function ot(p){return p===null||p===62?Pt(p):$(p)?(u=ot,It(p)):(t.consume(p),ot)}function it(p){return p===null?n(p):p===63?(t.consume(p),S):$(p)?(u=it,It(p)):(t.consume(p),it)}function S(p){return p===62?Pt(p):it(p)}function G(p){return qt(p)?(t.consume(p),rt):n(p)}function rt(p){return p===45||zt(p)?(t.consume(p),rt):st(p)}function st(p){return $(p)?(u=st,It(p)):St(p)?(t.consume(p),st):Pt(p)}function vt(p){return p===45||zt(p)?(t.consume(p),vt):p===47||p===62||Nt(p)?ht(p):n(p)}function ht(p){return p===47?(t.consume(p),Pt):p===58||p===95||qt(p)?(t.consume(p),dt):$(p)?(u=ht,It(p)):St(p)?(t.consume(p),ht):Pt(p)}function dt(p){return p===45||p===46||p===58||p===95||zt(p)?(t.consume(p),dt):L(p)}function L(p){return p===61?(t.consume(p),at):$(p)?(u=L,It(p)):St(p)?(t.consume(p),L):ht(p)}function at(p){return p===null||p===60||p===61||p===62||p===96?n(p):p===34||p===39?(t.consume(p),r=p,Et):$(p)?(u=at,It(p)):St(p)?(t.consume(p),at):(t.consume(p),r=void 0,jt)}function Et(p){return p===r?(t.consume(p),_t):p===null?n(p):$(p)?(u=Et,It(p)):(t.consume(p),Et)}function _t(p){return p===62||p===47||Nt(p)?ht(p):n(p)}function jt(p){return p===null||p===34||p===39||p===60||p===61||p===96?n(p):p===62||Nt(p)?ht(p):(t.consume(p),jt)}function It(p){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),gt(t,Rt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Rt(p){return t.enter("htmlTextData"),u(p)}function Pt(p){return p===62?(t.consume(p),t.exit("htmlTextData"),t.exit("htmlText"),e):n(p)}}const Dr={name:"labelStartLink",tokenize:Lr,resolveAll:Re.resolveAll};function Lr(t,e,n){const i=this;return r;function r(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(s):e(s)}}const Rr={name:"hardBreakEscape",tokenize:Or};function Or(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(o),r}function r(o){return $(o)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(o)):n(o)}}const _r={name:"codeText",tokenize:Br,resolve:Mr,previous:zr};function Mr(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function zr(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Br(t,e,n){const i=this;let r=0,o,s;return u;function u(m){return t.enter("codeText"),t.enter("codeTextSequence"),c(m)}function c(m){return m===96?(t.consume(m),r++,c):(t.exit("codeTextSequence"),d(m))}function d(m){return m===null?n(m):m===96?(s=t.enter("codeTextSequence"),o=0,b(m)):m===32?(t.enter("space"),t.consume(m),t.exit("space"),d):$(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("codeTextData"),f(m))}function f(m){return m===null||m===32||m===96||$(m)?(t.exit("codeTextData"),d(m)):(t.consume(m),f)}function b(m){return m===96?(t.consume(m),o++,b):o===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(m)):(s.type="codeTextData",f(m))}}const Hr={[42]:Ot,[43]:Ot,[45]:Ot,[48]:Ot,[49]:Ot,[50]:Ot,[51]:Ot,[52]:Ot,[53]:Ot,[54]:Ot,[55]:Ot,[56]:Ot,[57]:Ot,[62]:ln},Nr={[91]:Vi},Wr={[-2]:Fe,[-1]:Fe,[32]:Fe},Ur={[35]:Ji,[42]:fe,[45]:[cn,fe],[60]:or,[61]:cn,[95]:fe,[96]:pn,[126]:pn},jr={[38]:dn,[92]:fn},$r={[-5]:Le,[-4]:Le,[-3]:Le,[33]:Pr,[38]:dn,[42]:Oe,[60]:[Ar,vr],[91]:Dr,[92]:[Rr,fn],[93]:Re,[95]:Oe,[96]:_r},qr={null:[Oe,Ti]},Vr={null:[42,95]},Gr={null:[]};function Yr(t={}){const e=oi([X].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:i(di),document:i(mi),flow:i(Ii),string:i(vi),text:i(Fi)};return n;function i(r){return o;function o(s){return Li(n,r,s)}}}const xn=/[\0\t\n\r]/g;function Xr(){let t=1,e="",n=!0,i;return r;function r(o,s,u){const c=[];let d,f,b,m,y;for(o=e+o.toString(s),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(xn.lastIndex=b,d=xn.exec(o),m=d&&d.index!==void 0?d.index:o.length,y=o.charCodeAt(m),!d){e=o.slice(b);break}if(y===10&&b===m&&i)c.push(-3),i=void 0;else switch(i&&(c.push(-5),i=void 0),b<m&&(c.push(o.slice(b,m)),t+=m-b),y){case 0:{c.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,c.push(-2);t++<f;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:i=!0,t=1}b=m+1}return u&&(i&&c.push(-5),e&&c.push(e),c.push(null)),c}}function Qr(t){for(;!nn(t););return t}function wn(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCharCode(n)}const Zr=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Kr(t){return t.replace(Zr,Jr)}function Jr(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return wn(n.slice(o?2:1),o?16:10)}return De(n)||t}const _e={}.hasOwnProperty,to=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),eo(n)(Qr(Yr(n).document().write(Xr()(t,e,!0))))};function eo(t={}){const e=bn({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:c(Kn),autolinkProtocol:dt,autolinkEmail:dt,atxHeading:c(Xn),blockQuote:c(re),characterEscape:dt,characterReference:dt,codeFenced:c(Se),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:c(Se,d),codeText:c(Pl,d),codeTextData:dt,data:dt,codeFlowValue:dt,definition:c(Cl),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:c(El),hardBreakEscape:c(Qn),hardBreakTrailing:c(Qn),htmlFlow:c(Zn,d),htmlFlowData:dt,htmlText:c(Zn,d),htmlTextData:dt,image:c(Il),label:d,link:c(Kn),listItem:c(Al),listItemValue:D,listOrdered:c(Jn,E),listUnordered:c(Jn),paragraph:c(Tl),reference:ce,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:c(Xn),strong:c(vl),thematicBreak:c(Dl)},exit:{atxHeading:b(),atxHeadingSequence:rt,autolink:b(),autolinkEmail:ie,autolinkProtocol:Yt,blockQuote:b(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:At,characterReferenceMarkerNumeric:At,characterReferenceValue:he,codeFenced:b(R),codeFencedFence:et,codeFencedFenceInfo:O,codeFencedFenceMeta:P,codeFlowValue:L,codeIndented:b(ot),codeText:b(It),codeTextData:L,data:L,definition:b(),definitionDestinationString:G,definitionLabelString:it,definitionTitleString:S,emphasis:b(),hardBreakEscape:b(Et),hardBreakTrailing:b(Et),htmlFlow:b(_t),htmlFlowData:L,htmlText:b(jt),htmlTextData:L,image:b(Pt),label:h,labelText:p,lineEnding:at,link:b(Rt),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:Gt,resourceDestinationString:ue,resourceTitleString:Kt,resource:ne,setextHeading:b(ht),setextHeadingLineSequence:vt,setextHeadingText:st,strong:b(),thematicBreak:b()}},t.mdastExtensions||[]),n={};return i;function i(x){let T={type:"root",children:[]};const Y=[T],pt=[],Ut=[],pe={stack:Y,tokenStack:pt,config:e,enter:f,exit:m,buffer:d,resume:y,setData:o,getData:s};let mt=-1;for(;++mt<x.length;)if(x[mt][1].type==="listOrdered"||x[mt][1].type==="listUnordered")if(x[mt][0]==="enter")Ut.push(mt);else{const Ft=Ut.pop();mt=r(x,Ft,mt)}for(mt=-1;++mt<x.length;){const Ft=e[x[mt][0]];_e.call(Ft,x[mt][1].type)&&Ft[x[mt][1].type].call(Object.assign({sliceSerialize:x[mt][2].sliceSerialize},pe),x[mt][1])}if(pt.length>0){const Ft=pt[pt.length-1];(Ft[1]||Sn).call(pe,void 0,Ft[0])}for(T.position={start:u(x.length>0?x[0][1].start:{line:1,column:1,offset:0}),end:u(x.length>0?x[x.length-2][1].end:{line:1,column:1,offset:0})},mt=-1;++mt<e.transforms.length;)T=e.transforms[mt](T)||T;return T}function r(x,T,Y){let pt=T-1,Ut=-1,pe=!1,mt,Ft,oe,ge;for(;++pt<=Y;){const bt=x[pt];if(bt[1].type==="listUnordered"||bt[1].type==="listOrdered"||bt[1].type==="blockQuote"?(bt[0]==="enter"?Ut++:Ut--,ge=void 0):bt[1].type==="lineEndingBlank"?bt[0]==="enter"&&(mt&&!ge&&!Ut&&!oe&&(oe=pt),ge=void 0):bt[1].type==="linePrefix"||bt[1].type==="listItemValue"||bt[1].type==="listItemMarker"||bt[1].type==="listItemPrefix"||bt[1].type==="listItemPrefixWhitespace"||(ge=void 0),!Ut&&bt[0]==="enter"&&bt[1].type==="listItemPrefix"||Ut===-1&&bt[0]==="exit"&&(bt[1].type==="listUnordered"||bt[1].type==="listOrdered")){if(mt){let Ve=pt;for(Ft=void 0;Ve--;){const Xt=x[Ve];if(Xt[1].type==="lineEnding"||Xt[1].type==="lineEndingBlank"){if(Xt[0]==="exit")continue;Ft&&(x[Ft][1].type="lineEndingBlank",pe=!0),Xt[1].type="lineEnding",Ft=Ve}else if(!(Xt[1].type==="linePrefix"||Xt[1].type==="blockQuotePrefix"||Xt[1].type==="blockQuotePrefixWhitespace"||Xt[1].type==="blockQuoteMarker"||Xt[1].type==="listItemIndent"))break}oe&&(!Ft||oe<Ft)&&(mt._spread=!0),mt.end=Object.assign({},Ft?x[Ft][1].start:bt[1].end),x.splice(Ft||pt,0,["exit",mt,bt[2]]),pt++,Y++}bt[1].type==="listItemPrefix"&&(mt={type:"listItem",_spread:!1,start:Object.assign({},bt[1].start)},x.splice(pt,0,["enter",mt,bt[2]]),pt++,Y++,oe=void 0,ge=!0)}}return x[T][1]._spread=pe,Y}function o(x,T){n[x]=T}function s(x){return n[x]}function u(x){return{line:x.line,column:x.column,offset:x.offset}}function c(x,T){return Y;function Y(pt){f.call(this,x(pt),pt),T&&T.call(this,pt)}}function d(){this.stack.push({type:"fragment",children:[]})}function f(x,T,Y){return this.stack[this.stack.length-1].children.push(x),this.stack.push(x),this.tokenStack.push([T,Y]),x.position={start:u(T.start)},x}function b(x){return T;function T(Y){x&&x.call(this,Y),m.call(this,Y)}}function m(x,T){const Y=this.stack.pop(),pt=this.tokenStack.pop();if(pt)pt[0].type!==x.type&&(T?T.call(this,x,pt[0]):(pt[1]||Sn).call(this,x,pt[0]));else throw new Error("Cannot close `"+x.type+"` ("+v({start:x.start,end:x.end})+"): it\u2019s not open");return Y.position.end=u(x.end),Y}function y(){return ri(this.stack.pop())}function E(){o("expectingFirstListItemValue",!0)}function D(x){if(s("expectingFirstListItemValue")){const T=this.stack[this.stack.length-2];T.start=Number.parseInt(this.sliceSerialize(x),10),o("expectingFirstListItemValue")}}function O(){const x=this.resume(),T=this.stack[this.stack.length-1];T.lang=x}function P(){const x=this.resume(),T=this.stack[this.stack.length-1];T.meta=x}function et(){s("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function R(){const x=this.resume(),T=this.stack[this.stack.length-1];T.value=x.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function ot(){const x=this.resume(),T=this.stack[this.stack.length-1];T.value=x.replace(/(\r?\n|\r)$/g,"")}function it(x){const T=this.resume(),Y=this.stack[this.stack.length-1];Y.label=T,Y.identifier=Jt(this.sliceSerialize(x)).toLowerCase()}function S(){const x=this.resume(),T=this.stack[this.stack.length-1];T.title=x}function G(){const x=this.resume(),T=this.stack[this.stack.length-1];T.url=x}function rt(x){const T=this.stack[this.stack.length-1];if(!T.depth){const Y=this.sliceSerialize(x).length;T.depth=Y}}function st(){o("setextHeadingSlurpLineEnding",!0)}function vt(x){const T=this.stack[this.stack.length-1];T.depth=this.sliceSerialize(x).charCodeAt(0)===61?1:2}function ht(){o("setextHeadingSlurpLineEnding")}function dt(x){const T=this.stack[this.stack.length-1];let Y=T.children[T.children.length-1];(!Y||Y.type!=="text")&&(Y=Fl(),Y.position={start:u(x.start)},T.children.push(Y)),this.stack.push(Y)}function L(x){const T=this.stack.pop();T.value+=this.sliceSerialize(x),T.position.end=u(x.end)}function at(x){const T=this.stack[this.stack.length-1];if(s("atHardBreak")){const Y=T.children[T.children.length-1];Y.position.end=u(x.end),o("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(T.type)&&(dt.call(this,x),L.call(this,x))}function Et(){o("atHardBreak",!0)}function _t(){const x=this.resume(),T=this.stack[this.stack.length-1];T.value=x}function jt(){const x=this.resume(),T=this.stack[this.stack.length-1];T.value=x}function It(){const x=this.resume(),T=this.stack[this.stack.length-1];T.value=x}function Rt(){const x=this.stack[this.stack.length-1];s("inReference")?(x.type+="Reference",x.referenceType=s("referenceType")||"shortcut",delete x.url,delete x.title):(delete x.identifier,delete x.label),o("referenceType")}function Pt(){const x=this.stack[this.stack.length-1];s("inReference")?(x.type+="Reference",x.referenceType=s("referenceType")||"shortcut",delete x.url,delete x.title):(delete x.identifier,delete x.label),o("referenceType")}function p(x){const T=this.stack[this.stack.length-2],Y=this.sliceSerialize(x);T.label=Kr(Y),T.identifier=Jt(Y).toLowerCase()}function h(){const x=this.stack[this.stack.length-1],T=this.resume(),Y=this.stack[this.stack.length-1];o("inReference",!0),Y.type==="link"?Y.children=x.children:Y.alt=T}function ue(){const x=this.resume(),T=this.stack[this.stack.length-1];T.url=x}function Kt(){const x=this.resume(),T=this.stack[this.stack.length-1];T.title=x}function ne(){o("inReference")}function ce(){o("referenceType","collapsed")}function Gt(x){const T=this.resume(),Y=this.stack[this.stack.length-1];Y.label=T,Y.identifier=Jt(this.sliceSerialize(x)).toLowerCase(),o("referenceType","full")}function At(x){o("characterReferenceType",x.type)}function he(x){const T=this.sliceSerialize(x),Y=s("characterReferenceType");let pt;Y?(pt=wn(T,Y==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):pt=De(T);const Ut=this.stack.pop();Ut.value+=pt,Ut.position.end=u(x.end)}function Yt(x){L.call(this,x);const T=this.stack[this.stack.length-1];T.url=this.sliceSerialize(x)}function ie(x){L.call(this,x);const T=this.stack[this.stack.length-1];T.url="mailto:"+this.sliceSerialize(x)}function re(){return{type:"blockquote",children:[]}}function Se(){return{type:"code",lang:null,meta:null,value:""}}function Pl(){return{type:"inlineCode",value:""}}function Cl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function El(){return{type:"emphasis",children:[]}}function Xn(){return{type:"heading",depth:void 0,children:[]}}function Qn(){return{type:"break"}}function Zn(){return{type:"html",value:""}}function Il(){return{type:"image",title:null,url:"",alt:null}}function Kn(){return{type:"link",title:null,url:"",children:[]}}function Jn(x){return{type:"list",ordered:x.type==="listOrdered",start:null,spread:x._spread,children:[]}}function Al(x){return{type:"listItem",spread:x._spread,checked:null,children:[]}}function Tl(){return{type:"paragraph",children:[]}}function vl(){return{type:"strong",children:[]}}function Fl(){return{type:"text",value:""}}function Dl(){return{type:"thematicBreak"}}}function bn(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?bn(t,i):no(t,i)}return t}function no(t,e){let n;for(n in e)if(_e.call(e,n)){const i=n==="canContainEols"||n==="transforms",o=(_e.call(t,n)?t[n]:void 0)||(t[n]=i?[]:{}),s=e[n];s&&(i?t[n]=[...o,...s]:Object.assign(o,s))}}function Sn(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+v({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+v({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+v({start:e.start,end:e.end})+") is still open")}function io(t){Object.assign(this,{Parser:n=>{const i=this.data("settings");return to(n,Object.assign({},i,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ro=io,Ct=function(t,e,n){var i={type:String(t)};return n==null&&(typeof e=="string"||Array.isArray(e))?n=e:Object.assign(i,e),Array.isArray(n)?i.children=n:n!=null&&(i.value=String(n)),i};const Rl=function t(e,n,i,r,o){const s=Me(n);if(i!=null&&(typeof i!="number"||i<0||i===Number.POSITIVE_INFINITY))throw new Error("Expected positive finite index");if(r!=null&&(!t(r)||!r.children))throw new Error("Expected parent node");if(r==null!=(i==null))throw new Error("Expected both parent and index");return e&&e.type&&typeof e.type=="string"?Boolean(s.call(o,e,i,r)):!1},Me=function(t){if(t==null)return ao;if(typeof t=="string")return so(t);if(typeof t=="object")return Array.isArray(t)?oo(t):lo(t);if(typeof t=="function")return me(t);throw new Error("Expected function, string, or object as test")};function oo(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Me(t[n]);return me(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].call(this,...r))return!0;return!1}}function lo(t){return me(e);function e(n){let i;for(i in t)if(n[i]!==t[i])return!1;return!0}}function so(t){return me(e);function e(n){return n&&n.type===t}}function me(t){return e;function e(...n){return Boolean(t.call(this,...n))}}function ao(){return!0}function Ol(t){return t}const uo=!0,co="skip",kn=!1,ho=function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null);const r=Me(e),o=i?-1:1;s(t,null,[])();function s(u,c,d){const f=typeof u=="object"&&u!==null?u:{};let b;return typeof f.type=="string"&&(b=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0,Object.defineProperty(m,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})),m;function m(){let y=[],E,D,O;if((!e||r(u,c,d[d.length-1]||null))&&(y=po(n(u,d)),y[0]===kn))return y;if(u.children&&y[0]!==co)for(D=(i?u.children.length:-1)+o,O=d.concat(u);D>-1&&D<u.children.length;){if(E=s(u.children[D],D,O)(),E[0]===kn)return E;D=typeof E[1]=="number"?E[1]:D+o}return y}}};function po(t){return Array.isArray(t)?t:typeof t=="number"?[uo,t]:[t]}const ze=function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null),ho(t,e,r,i);function r(o,s){const u=s[s.length-1];return n(o,u?u.children.indexOf(o):null,u)}},Be=Pn("start"),He=Pn("end");function _l(t){return{start:Be(t),end:He(t)}}function Pn(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function go(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const Cn={}.hasOwnProperty;function fo(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return ze(t,"definition",i=>{const r=En(i.identifier);r&&!Cn.call(e,r)&&(e[r]=i)}),n;function n(i){const r=En(i);return r&&Cn.call(e,r)?e[r]:null}}function En(t){return String(t||"").toUpperCase()}const ye={}.hasOwnProperty;function mo(t,e){const n=e.data||{};return"value"in e&&!(ye.call(n,"hName")||ye.call(n,"hProperties")||ye.call(n,"hChildren"))?t.augment(e,Ct("text",e.value)):t(e,"div",Dt(t,e))}function In(t,e,n){const i=e&&e.type;let r;if(!i)throw new Error("Expected node, got `"+e+"`");return ye.call(t.handlers,i)?r=t.handlers[i]:t.passThrough&&t.passThrough.includes(i)?r=yo:r=t.unknownHandler,(typeof r=="function"?r:mo)(t,e,n)}function yo(t,e){return"children"in e?{...e,children:Dt(t,e)}:e}function Dt(t,e){const n=[];if("children"in e){const i=e.children;let r=-1;for(;++r<i.length;){const o=In(t,i[r],e);if(o){if(r&&i[r-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const s=o.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}const xo={'"':"quot","&":"amp","<":"lt",">":"gt"};function wo(t){return t.replace(/["&<>]/g,e);function e(n){return"&"+xo[n]+";"}}function An(t,e){const n=wo(bo(t||""));if(!e)return n;const i=n.indexOf(":"),r=n.indexOf("?"),o=n.indexOf("#"),s=n.indexOf("/");return i<0||s>-1&&i>s||r>-1&&i>r||o>-1&&i>o||e.test(n.slice(0,i))?n:""}function bo(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const o=t.charCodeAt(n);let s="";if(o===37&&zt(t.charCodeAt(n+1))&&zt(t.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const u=t.charCodeAt(n+1);o<56320&&u>56319&&u<57344?(s=String.fromCharCode(o,u),r=1):s="\uFFFD"}else s=String.fromCharCode(o);s&&(e.push(t.slice(i,n),encodeURIComponent(s)),i=n+r+1,s=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Vt(t,e){const n=[];let i=-1;for(e&&n.push(Ct("text",`
`));++i<t.length;)i&&n.push(Ct("text",`
`)),n.push(t[i]);return e&&t.length>0&&n.push(Ct("text",`
`)),n}function So(t){let e=-1;const n=[];for(;++e<t.footnoteOrder.length;){const i=t.footnoteById[t.footnoteOrder[e].toUpperCase()];if(!i)continue;const r=Dt(t,i),o=String(i.identifier),s=An(o.toLowerCase());let u=0;const c=[];for(;++u<=t.footnoteCounts[o];){const b={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"\u21A9"}]};u>1&&b.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(u)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(b)}const d=r[r.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const b=d.children[d.children.length-1];b&&b.type==="text"?b.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...c)}else r.push(...c);const f={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+s},children:Vt(r,!0)};i.position&&(f.position=i.position),n.push(f)}return n.length===0?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[Ct("text",t.footnoteLabel)]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:Vt(n,!0)},{type:"text",value:`
`}]}}function ko(t,e){return t(e,"blockquote",Vt(Dt(t,e),!0))}function Po(t,e){return[t(e,"br"),Ct("text",`
`)]}function Co(t,e){const n=e.value?e.value+`
`:"",i=e.lang&&e.lang.match(/^[^ \t]+(?=[ \t]|$)/),r={};i&&(r.className=["language-"+i]);const o=t(e,"code",r,[Ct("text",n)]);return e.meta&&(o.data={meta:e.meta}),t(e.position,"pre",[o])}function Eo(t,e){return t(e,"del",Dt(t,e))}function Io(t,e){return t(e,"em",Dt(t,e))}function Tn(t,e){const n=String(e.identifier),i=An(n.toLowerCase()),r=t.footnoteOrder.indexOf(n);let o;r===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,o=t.footnoteOrder.length):(t.footnoteCounts[n]++,o=r+1);const s=t.footnoteCounts[n];return t(e,"sup",[t(e.position,"a",{href:"#"+t.clobberPrefix+"fn-"+i,id:t.clobberPrefix+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[Ct("text",String(o))])])}function Ao(t,e){const n=t.footnoteById;let i=1;for(;i in n;)i++;const r=String(i);return n[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:e.children}],position:e.position},Tn(t,{type:"footnoteReference",identifier:r,position:e.position})}function To(t,e){return t(e,"h"+e.depth,Dt(t,e))}function vo(t,e){return t.dangerous?t.augment(e,Ct("raw",e.value)):null}var xe=U(70729);function vn(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return Ct("text","!["+e.alt+i);const r=Dt(t,e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift(Ct("text","["));const s=r[r.length-1];return s&&s.type==="text"?s.value+=i:r.push(Ct("text",i)),r}function Fo(t,e){const n=t.definition(e.identifier);if(!n)return vn(t,e);const i={src:xe(n.url||""),alt:e.alt};return n.title!==null&&n.title!==void 0&&(i.title=n.title),t(e,"img",i)}function Do(t,e){const n={src:xe(e.url),alt:e.alt};return e.title!==null&&e.title!==void 0&&(n.title=e.title),t(e,"img",n)}function Lo(t,e){return t(e,"code",[Ct("text",e.value.replace(/\r?\n|\r/g," "))])}function Ro(t,e){const n=t.definition(e.identifier);if(!n)return vn(t,e);const i={href:xe(n.url||"")};return n.title!==null&&n.title!==void 0&&(i.title=n.title),t(e,"a",i,Dt(t,e))}function Oo(t,e){const n={href:xe(e.url)};return e.title!==null&&e.title!==void 0&&(n.title=e.title),t(e,"a",n,Dt(t,e))}function _o(t,e,n){const i=Dt(t,e),r=n?Mo(n):Fn(e),o={},s=[];if(typeof e.checked=="boolean"){let d;i[0]&&i[0].type==="element"&&i[0].tagName==="p"?d=i[0]:(d=t(null,"p",[]),i.unshift(d)),d.children.length>0&&d.children.unshift(Ct("text"," ")),d.children.unshift(t(null,"input",{type:"checkbox",checked:e.checked,disabled:!0})),o.className=["task-list-item"]}let u=-1;for(;++u<i.length;){const d=i[u];(r||u!==0||d.type!=="element"||d.tagName!=="p")&&s.push(Ct("text",`
`)),d.type==="element"&&d.tagName==="p"&&!r?s.push(...d.children):s.push(d)}const c=i[i.length-1];return c&&(r||!("tagName"in c)||c.tagName!=="p")&&s.push(Ct("text",`
`)),t(e,"li",o,s)}function Mo(t){let e=t.spread;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Fn(n[i]);return Boolean(e)}function Fn(t){const e=t.spread;return e??t.children.length>1}function zo(t,e){const n={},i=e.ordered?"ol":"ul",r=Dt(t,e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<r.length;){const s=r[o];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return t(e,i,n,Vt(r,!0))}function Bo(t,e){return t(e,"p",Dt(t,e))}function Ho(t,e){return t.augment(e,Ct("root",Vt(Dt(t,e))))}function No(t,e){return t(e,"strong",Dt(t,e))}function Wo(t,e){const n=e.children;let i=-1;const r=e.align||[],o=[];for(;++i<n.length;){const s=n[i].children,u=i===0?"th":"td",c=[];let d=-1;const f=e.align?r.length:s.length;for(;++d<f;){const b=s[d];c.push(t(b,u,{align:r[d]},b?Dt(t,b):[]))}o[i]=t(n[i],"tr",Vt(c,!0))}return t(e,"table",Vt([t(o[0].position,"thead",Vt([o[0]],!0))].concat(o[1]?t({start:Be(o[1]),end:He(o[o.length-1])},"tbody",Vt(o.slice(1),!0)):[]),!0))}const Dn=9,Ln=32;function Uo(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const o=[];for(;i;)o.push(Rn(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return o.push(Rn(e.slice(r),r>0,!1)),o.join("")}function Rn(t,e,n){let i=0,r=t.length;if(e){let o=t.codePointAt(i);for(;o===Dn||o===Ln;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(r-1);for(;o===Dn||o===Ln;)r--,o=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function jo(t,e){return t.augment(e,Ct("text",Uo(String(e.value))))}function $o(t,e){return t(e,"hr")}const qo={blockquote:ko,break:Po,code:Co,delete:Eo,emphasis:Io,footnoteReference:Tn,footnote:Ao,heading:To,html:vo,imageReference:Fo,image:Do,inlineCode:Lo,linkReference:Ro,link:Oo,listItem:_o,list:zo,paragraph:Bo,root:Ho,strong:No,table:Wo,text:jo,thematicBreak:$o,toml:we,yaml:we,definition:we,footnoteDefinition:we};function we(){return null}const Vo={}.hasOwnProperty;function Go(t,e){const n=e||{},i=n.allowDangerousHtml||!1,r={};return s.dangerous=i,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.definition=fo(t),s.footnoteById=r,s.footnoteOrder=[],s.footnoteCounts={},s.augment=o,s.handlers={...qo,...n.handlers},s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,ze(t,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();Vo.call(r,c)||(r[c]=u)}),s;function o(u,c){if(u&&"data"in u&&u.data){const d=u.data;d.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=d.hName),c.type==="element"&&d.hProperties&&(c.properties={...c.properties,...d.hProperties}),"children"in c&&c.children&&d.hChildren&&(c.children=d.hChildren)}if(u){const d="type"in u?u:{position:u};go(d)||(c.position={start:Be(d),end:He(d)})}return c}function s(u,c,d,f){return Array.isArray(d)&&(f=d,d={}),o(u,{type:"element",tagName:c,properties:d||{},children:f||[]})}}function On(t,e){const n=Go(t,e),i=In(n,t,null),r=So(n);return r&&i.children.push(Ct("text",`
`),r),Array.isArray(i)?{type:"root",children:i}:i}var Yo=function(t,e){return t&&"run"in t?Xo(t,e):Qo(t||e)};function Xo(t,e){return(n,i,r)=>{t.run(On(n,e),i,o=>{r(o)})}}function Qo(t){return e=>On(e,t)}var q=U(45697);class ae{constructor(e,n,i){this.property=e,this.normal=n,i&&(this.space=i)}}ae.prototype.property={},ae.prototype.normal={},ae.prototype.space=null;function _n(t,e){const n={},i={};let r=-1;for(;++r<t.length;)Object.assign(n,t[r].property),Object.assign(i,t[r].normal);return new ae(n,i,e)}function Ne(t){return t.toLowerCase()}class Wt{constructor(e,n){this.property=e,this.attribute=n}}Wt.prototype.space=null,Wt.prototype.boolean=!1,Wt.prototype.booleanish=!1,Wt.prototype.overloadedBoolean=!1,Wt.prototype.number=!1,Wt.prototype.commaSeparated=!1,Wt.prototype.spaceSeparated=!1,Wt.prototype.commaOrSpaceSeparated=!1,Wt.prototype.mustUseProperty=!1,Wt.prototype.defined=!1;let Zo=0;const tt=Zt(),kt=Zt(),Mn=Zt(),A=Zt(),ft=Zt(),te=Zt(),Bt=Zt();function Zt(){return 2**++Zo}const We=Object.keys(Q);class Ue extends Wt{constructor(e,n,i,r){let o=-1;if(super(e,n),zn(this,"space",r),typeof i=="number")for(;++o<We.length;){const s=We[o];zn(this,We[o],(i&Q[s])===Q[s])}}}Ue.prototype.defined=!0;function zn(t,e,n){n&&(t[e]=n)}const Ko={}.hasOwnProperty;function ee(t){const e={},n={};let i;for(i in t.properties)if(Ko.call(t.properties,i)){const r=t.properties[i],o=new Ue(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[Ne(i)]=i,n[Ne(o.attribute)]=i}return new ae(e,n,t.space)}const Bn=ee({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Hn=ee({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Nn(t,e){return e in t?t[e]:e}function Wn(t,e){return Nn(t,e.toLowerCase())}const Un=ee({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Wn,properties:{xmlns:null,xmlnsXLink:null}}),jn=ee({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:kt,ariaAutoComplete:null,ariaBusy:kt,ariaChecked:kt,ariaColCount:A,ariaColIndex:A,ariaColSpan:A,ariaControls:ft,ariaCurrent:null,ariaDescribedBy:ft,ariaDetails:null,ariaDisabled:kt,ariaDropEffect:ft,ariaErrorMessage:null,ariaExpanded:kt,ariaFlowTo:ft,ariaGrabbed:kt,ariaHasPopup:null,ariaHidden:kt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ft,ariaLevel:A,ariaLive:null,ariaModal:kt,ariaMultiLine:kt,ariaMultiSelectable:kt,ariaOrientation:null,ariaOwns:ft,ariaPlaceholder:null,ariaPosInSet:A,ariaPressed:kt,ariaReadOnly:kt,ariaRelevant:null,ariaRequired:kt,ariaRoleDescription:ft,ariaRowCount:A,ariaRowIndex:A,ariaRowSpan:A,ariaSelected:kt,ariaSetSize:A,ariaSort:null,ariaValueMax:A,ariaValueMin:A,ariaValueNow:A,ariaValueText:null,role:null}}),Jo=ee({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Wn,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:te,acceptCharset:ft,accessKey:ft,action:null,allow:null,allowFullScreen:tt,allowPaymentRequest:tt,allowUserMedia:tt,alt:null,as:null,async:tt,autoCapitalize:null,autoComplete:ft,autoFocus:tt,autoPlay:tt,capture:tt,charSet:null,checked:tt,cite:null,className:ft,cols:A,colSpan:null,content:null,contentEditable:kt,controls:tt,controlsList:ft,coords:A|te,crossOrigin:null,data:null,dateTime:null,decoding:null,default:tt,defer:tt,dir:null,dirName:null,disabled:tt,download:Mn,draggable:kt,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:tt,formTarget:null,headers:ft,height:A,hidden:tt,high:A,href:null,hrefLang:null,htmlFor:ft,httpEquiv:ft,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:tt,itemId:null,itemProp:ft,itemRef:ft,itemScope:tt,itemType:ft,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:tt,low:A,manifest:null,max:null,maxLength:A,media:null,method:null,min:null,minLength:A,multiple:tt,muted:tt,name:null,nonce:null,noModule:tt,noValidate:tt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:tt,optimum:A,pattern:null,ping:ft,placeholder:null,playsInline:tt,poster:null,preload:null,readOnly:tt,referrerPolicy:null,rel:ft,required:tt,reversed:tt,rows:A,rowSpan:A,sandbox:ft,scope:null,scoped:tt,seamless:tt,selected:tt,shape:null,size:A,sizes:null,slot:null,span:A,spellCheck:kt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:A,step:null,style:null,tabIndex:A,target:null,title:null,translate:null,type:null,typeMustMatch:tt,useMap:null,value:kt,width:A,wrap:null,align:null,aLink:null,archive:ft,axis:null,background:null,bgColor:null,border:A,borderColor:null,bottomMargin:A,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:tt,declare:tt,event:null,face:null,frame:null,frameBorder:null,hSpace:A,leftMargin:A,link:null,longDesc:null,lowSrc:null,marginHeight:A,marginWidth:A,noResize:tt,noHref:tt,noShade:tt,noWrap:tt,object:null,profile:null,prompt:null,rev:null,rightMargin:A,rules:null,scheme:null,scrolling:kt,standby:null,summary:null,text:null,topMargin:A,valueType:null,version:null,vAlign:null,vLink:null,vSpace:A,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:tt,disableRemotePlayback:tt,prefix:null,property:null,results:A,security:null,unselectable:null}}),tl=ee({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Nn,properties:{about:Bt,accentHeight:A,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:A,amplitude:A,arabicForm:null,ascent:A,attributeName:null,attributeType:null,azimuth:A,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:A,by:null,calcMode:null,capHeight:A,className:ft,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:A,diffuseConstant:A,direction:null,display:null,dur:null,divisor:A,dominantBaseline:null,download:tt,dx:null,dy:null,edgeMode:null,editable:null,elevation:A,enableBackground:null,end:null,event:null,exponent:A,externalResourcesRequired:null,fill:null,fillOpacity:A,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:te,g2:te,glyphName:te,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:A,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:A,horizOriginX:A,horizOriginY:A,id:null,ideographic:A,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:A,k:A,k1:A,k2:A,k3:A,k4:A,kernelMatrix:Bt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:A,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:A,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:A,overlineThickness:A,paintOrder:null,panose1:null,path:null,pathLength:A,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ft,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:A,pointsAtY:A,pointsAtZ:A,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Bt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Bt,rev:Bt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Bt,requiredFeatures:Bt,requiredFonts:Bt,requiredFormats:Bt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:A,specularExponent:A,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:A,strikethroughThickness:A,string:null,stroke:null,strokeDashArray:Bt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:A,strokeOpacity:A,strokeWidth:null,style:null,surfaceScale:A,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Bt,tabIndex:A,tableValues:null,target:null,targetX:A,targetY:A,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Bt,to:null,transform:null,u1:null,u2:null,underlinePosition:A,underlineThickness:A,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:A,values:null,vAlphabetic:A,vMathematical:A,vectorEffect:null,vHanging:A,vIdeographic:A,version:null,vertAdvY:A,vertOriginX:A,vertOriginY:A,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:A,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),el=_n([Hn,Bn,Un,jn,Jo],"html"),nl=_n([Hn,Bn,Un,jn,tl],"svg");function il(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return e=>{ze(e,"element",(n,i,r)=>{const o=r;let s;if(t.allowedElements?s=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(s=t.disallowedElements.includes(n.tagName)),!s&&t.allowElement&&typeof i=="number"&&(s=!t.allowElement(n,i,o)),s&&typeof i=="number")return t.unwrapDisallowed&&n.children?o.children.splice(i,1,...n.children):o.children.splice(i,1),i})}}const $n=["http","https","mailto","tel"];function rl(t){const e=(t||"").trim(),n=e.charAt(0);if(n==="#"||n==="/")return e;const i=e.indexOf(":");if(i===-1)return e;let r=-1;for(;++r<$n.length;){const o=$n[r];if(i===o.length&&e.slice(0,o.length).toLowerCase()===o)return e}return r=e.indexOf("?"),r!==-1&&i>r||(r=e.indexOf("#"),r!==-1&&i>r)?e:"javascript:void(0)"}var ol=U(82143);function ll(t){var e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}const sl=/^data[-\w.:]+$/i,qn=/-[a-z]/g,al=/[A-Z]/g;function ul(t,e){const n=Ne(e);let i=e,r=Wt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&sl.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(qn,hl);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!qn.test(o)){let s=o.replace(al,cl);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}r=Ue}return new r(i,e)}function cl(t){return"-"+t.toLowerCase()}function hl(t){return t.charAt(1).toUpperCase()}const Vn={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};function zl(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function pl(t){return t.join(" ").trim()}function Bl(t){for(var e=[],n=String(t||""),i=n.indexOf(","),r=0,o,s;!o;)i===-1&&(i=n.length,o=!0),s=n.slice(r,i).trim(),(s||!o)&&e.push(s),r=i+1,i=n.indexOf(",",r);return e}function gl(t,e){var n=e||{};return t[t.length-1]===""&&(t=t.concat("")),t.join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var dl=U(57848);const je={}.hasOwnProperty,fl=new Set(["table","thead","tbody","tfoot","tr"]);function Gn(t,e){const n=[];let i=-1,r;for(;++i<e.children.length;)r=e.children[i],r.type==="element"?n.push(ml(t,r,i,e)):r.type==="text"?(e.type!=="element"||!fl.has(e.tagName)||!ll(r))&&n.push(r.value):r.type==="raw"&&!t.options.skipHtml&&n.push(r.value);return n}function ml(t,e,n,i){const r=t.options,o=t.schema,s=e.tagName,u={};let c=o,d;if(o.space==="html"&&s==="svg"&&(c=nl,t.schema=c),e.properties)for(d in e.properties)je.call(e.properties,d)&&xl(u,d,e.properties[d],t);(s==="ol"||s==="ul")&&t.listDepth++;const f=Gn(t,e);(s==="ol"||s==="ul")&&t.listDepth--,t.schema=o;const b=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=r.components&&je.call(r.components,s)?r.components[s]:s,y=typeof m=="string"||m===V.Fragment;if(!ol.isValidElementType(m))throw new TypeError(`Component for name \`${s}\` not defined or is not renderable`);if(u.key=[s,b.start.line,b.start.column,n].join("-"),s==="a"&&r.linkTarget&&(u.target=typeof r.linkTarget=="function"?r.linkTarget(String(u.href||""),e.children,typeof u.title=="string"?u.title:null):r.linkTarget),s==="a"&&r.transformLinkUri&&(u.href=r.transformLinkUri(String(u.href||""),e.children,typeof u.title=="string"?u.title:null)),!y&&s==="code"&&i.type==="element"&&i.tagName!=="pre"&&(u.inline=!0),!y&&(s==="h1"||s==="h2"||s==="h3"||s==="h4"||s==="h5"||s==="h6")&&(u.level=Number.parseInt(s.charAt(1),10)),s==="img"&&r.transformImageUri&&(u.src=r.transformImageUri(String(u.src||""),String(u.alt||""),typeof u.title=="string"?u.title:null)),!y&&s==="li"&&i.type==="element"){const E=yl(e);u.checked=E&&E.properties?Boolean(E.properties.checked):null,u.index=$e(i,e),u.ordered=i.tagName==="ol"}return!y&&(s==="ol"||s==="ul")&&(u.ordered=s==="ol",u.depth=t.listDepth),(s==="td"||s==="th")&&(u.align&&(u.style||(u.style={}),u.style.textAlign=u.align,delete u.align),y||(u.isHeader=s==="th")),!y&&s==="tr"&&i.type==="element"&&(u.isHeader=Boolean(i.tagName==="thead")),r.sourcePos&&(u["data-sourcepos"]=Sl(b)),!y&&r.rawSourcePos&&(u.sourcePosition=e.position),!y&&r.includeElementIndex&&(u.index=$e(i,e),u.siblingCount=$e(i)),y||(u.node=e),f.length>0?V.createElement(m,u,f):V.createElement(m,u)}function yl(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function $e(t,e){let n=-1,i=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&i++;return i}function xl(t,e,n,i){const r=ul(i.schema,e);let o=n;o==null||o!==o||(Array.isArray(o)&&(o=r.commaSeparated?gl(o):pl(o)),r.property==="style"&&typeof o=="string"&&(o=wl(o)),r.space&&r.property?t[je.call(Vn,r.property)?Vn[r.property]:r.property]=o:r.attribute&&(t[r.attribute]=o))}function wl(t){const e={};try{dl(t,n)}catch{}return e;function n(i,r){const o=i.slice(0,4)==="-ms-"?`ms-${i.slice(4)}`:i;e[o.replace(/-([a-z])/g,bl)]=r}}function bl(t,e){return e.toUpperCase()}function Sl(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const Yn={}.hasOwnProperty,kl="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",be={plugins:{to:"plugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function qe(t){for(const o in be)if(Yn.call(be,o)&&Yn.call(t,o)){const s=be[o];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${o}\` (see <${kl}#${s.id}> for more info)`),delete be[o]}const e=ti().use(ro).use(t.remarkPlugins||[]).use(Yo,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(il,t),n=new B;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const i=e.runSync(e.parse(n),n);if(i.type!=="root")throw new TypeError("Expected a `root` node");let r=V.createElement(V.Fragment,{},Gn({options:t,schema:el,listDepth:0},i));return t.className&&(r=V.createElement("div",{className:t.className},r)),r}qe.defaultProps={transformLinkUri:rl},qe.propTypes={children:q.string,className:q.string,allowElement:q.func,allowedElements:q.arrayOf(q.string),disallowedElements:q.arrayOf(q.string),unwrapDisallowed:q.bool,remarkPlugins:q.arrayOf(q.oneOfType([q.object,q.func,q.arrayOf(q.oneOfType([q.bool,q.string,q.object,q.func,q.arrayOf(q.any)]))])),rehypePlugins:q.arrayOf(q.oneOfType([q.object,q.func,q.arrayOf(q.oneOfType([q.bool,q.string,q.object,q.func,q.arrayOf(q.any)]))])),sourcePos:q.bool,rawSourcePos:q.bool,skipHtml:q.bool,includeElementIndex:q.bool,transformLinkUri:q.oneOfType([q.func,q.bool]),linkTarget:q.oneOfType([q.func,q.string]),transformImageUri:q.func,components:q.object}}}]);
