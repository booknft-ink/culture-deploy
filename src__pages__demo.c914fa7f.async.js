(self.webpackChunk=self.webpackChunk||[]).push([[680],{60225:function(x,g,s){"use strict";s.r(g);var K=s(97857),O=s.n(K),W=s(15009),r=s.n(W),S=s(99289),c=s.n(S),$=s(5574),d=s.n($),t=s(67294),Z=s(88484),D=s(86644),k=s(68982),M=s(63871),m=s(33236),q=s.n(m),_=s(85893),G=function(){var z=(0,t.useState)(""),j=d()(z,2),F=j[0],N=j[1],A="https://arseed.web3infra.dev",C=(0,t.useRef)(),H=(0,t.useState)([]),U=d()(H,2),J=U[0],se=U[1],Q=(0,t.useState)(""),w=d()(Q,2),h=w[0],V=w[1];(0,t.useEffect)(function(){c()(r()().mark(function u(){var e;return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("window.ethereum",window.ethereum),n.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return e=n.sent,N(e[0]),n.next=7,(0,m.genAPI)(window.ethereum);case 7:C.current=n.sent;case 8:case"end":return n.stop()}},u)}))()},[]);var X={name:"file",headers:{authorization:"authorization-text"},onChange:function(e){e.file.status!=="uploading"&&console.log(e.file,e.fileList),e.file.status==="done"?D.ZP.success("".concat(e.file.name," file uploaded successfully")):e.file.status==="error"&&D.ZP.error("".concat(e.file.name," file upload failed."))},customRequest:function(e){var i=e.action,n=e.data,l=e.file,ae=e.filename,le=e.headers,_e=e.onError,ne=e.onProgress,re=e.onSuccess,oe=e.withCredentials,R=new FileReader;return R.readAsArrayBuffer(l),console.log(l),R.onload=function(){var T=c()(r()().mark(function B(f){var v,E,b,I,y,L,p,o,P;return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(f),I=(v=f.target)===null||v===void 0?void 0:v.result,y="usdc",L={tags:[{name:"Content-Type",value:(E=l.type)!==null&&E!==void 0?E:"unkonwn"},{name:"fileName",value:(b=l.name)!==null&&b!==void 0?b:""}]},a.prev=4,a.next=7,(p=C.current)===null||p===void 0?void 0:p.sendAndPay(A,I,y,L);case 7:o=a.sent,console.log("res",o),o&&V(o==null||(P=o.order)===null||P===void 0?void 0:P.itemId),console.log("Complete File read successfully!",f),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(4),console.log(a.t0);case 16:case"end":return a.stop()}},B,null,[[4,13]])}));return function(B){return T.apply(this,arguments)}}(),{abort:function(){console.log("upload progress is aborted.")}}}},Y=function(){var u=c()(r()().mark(function e(){var i;return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,m.getOrders)(A,F);case 2:i=l.sent,console.log(i);case 4:case"end":return l.stop()}},e)}));return function(){return u.apply(this,arguments)}}();return(0,_.jsxs)("div",{children:[(0,_.jsx)(k.Z,O()(O()({},X),{},{children:(0,_.jsx)(M.Z,{icon:(0,_.jsx)(Z.Z,{}),children:"Click to Upload"})})),(0,_.jsxs)("div",{children:[(0,_.jsx)(M.Z,{onClick:Y,children:"\u83B7\u53D6 address \u6240\u6709\u7684 order"}),(0,_.jsx)("div",{children:J}),(0,_.jsxs)("div",{children:["\u5730\u5740:",h!==""?(0,_.jsx)("a",{href:"https://arseed.web3infra.dev/".concat(h),target:"_blank",children:"https://arseed.web3infra.dev/".concat(h)}):null]})]})]})};g.default=G},88677:function(){},62808:function(){},7420:function(){},95856:function(){},11922:function(){},46601:function(){},71456:function(){},89214:function(){},71922:function(){},2363:function(){},73105:function(){},52361:function(){},94616:function(){},69862:function(){},40964:function(){},55024:function(){}}]);
